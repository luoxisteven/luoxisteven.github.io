{"version":3,"file":"static/js/494.72c52ba7.chunk.js","mappings":"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","sources":["components/shared-components/AppBar/translations.js","components/shared-components/AppBar/LanguageSwitch.js","components/shared-components/AppBar/ThemeSwitch.js","components/shared-components/AppBar/DesktopNav.js","components/shared-components/AppBar/PasswordResetModal.js","components/shared-components/AppBar/MobileDrawer.js","components/shared-components/AppBar/UserMenu.js","components/shared-components/AppBar/LoginForm.js","components/shared-components/AppBar/SignupForm.js","components/shared-components/AppBar/AuthModals.js","components/shared-components/AppBar/AppBar.js"],"sourcesContent":["export const translations = {\r\n  en: {\r\n    home: 'Home',\r\n    blogs: 'Blogs',\r\n    notes: 'Notes',\r\n    projects: 'Projects',\r\n    finance: 'Finance',\r\n    profile: 'Profile',\r\n    dashboard: 'Dashboard',\r\n    login: 'Log in',\r\n    logout: 'Log out',\r\n    signup: 'Sign up',\r\n    password_reset: 'Reset Password',\r\n    passwords_not_match: 'Passwords do not match',\r\n    password_too_short: 'Password must be at least 6 characters',\r\n  },\r\n  cn: {\r\n    home: '主页',\r\n    blogs: '博客',\r\n    notes: '笔记',\r\n    projects: '项目',\r\n    finance: '金融面板',\r\n    profile: '个人简介',\r\n    dashboard: '仪表盘',\r\n    login: '登录',\r\n    logout: '退出登录',\r\n    signup: '注册',\r\n    password_reset: '修改密码',\r\n    passwords_not_match: '密码不匹配',\r\n    password_too_short: '密码至少需要6个字符',\r\n  },\r\n};","import { useContext } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Switch, FormControlLabel, useMediaQuery } from '@mui/material';\r\nimport { SettingsContext } from '../../../context/SettingsContext';\r\n\r\nconst LanguageSwitch = styled(Switch)(({ theme }) => ({\r\n  width: 62,\r\n  height: 34,\r\n  padding: 7,\r\n  '& .MuiSwitch-switchBase': {\r\n    // margin: 1,\r\n    padding: 0,\r\n    transform: 'translateX(6px)',\r\n    '&.Mui-checked': {\r\n      color: '#fff',\r\n      transform: 'translateX(22px)',\r\n      '& .MuiSwitch-thumb:before': {\r\n        backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><text x=\"3\" y=\"15\" font-size=\"14\" fill=\"${encodeURIComponent(\r\n          '#fff',\r\n        )}\">中</text></svg>')`, // 中文图标\r\n      },\r\n      '& + .MuiSwitch-track': {\r\n        opacity: 1,\r\n        backgroundColor: '#8796A5',\r\n      },\r\n    },\r\n  },\r\n  '& .MuiSwitch-thumb': {\r\n    backgroundColor: '#001e3c',\r\n    width: 32,\r\n    height: 32,\r\n    '&::before': {\r\n      content: \"''\",\r\n      position: 'absolute',\r\n      width: '100%',\r\n      height: '100%',\r\n      left: 0,\r\n      top: 0,\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundPosition: 'center',\r\n      backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><text x=\"3\" y=\"15\" font-size=\"14\" fill=\"${encodeURIComponent(\r\n        '#fff',\r\n      )}\">En</text></svg>')`, // 英文图标\r\n    },\r\n  },\r\n  '& .MuiSwitch-track': {\r\n    opacity: 1,\r\n    backgroundColor: '#aab4be',\r\n    borderRadius: 20 / 2,\r\n  },\r\n}));\r\n\r\nexport default function LanguageSwitchComponent() {\r\n  const { language, toggleLanguage } = useContext(SettingsContext);\r\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down('md')); \r\n\r\n  return (\r\n    <FormControlLabel\r\n      control={\r\n        <LanguageSwitch\r\n          checked={language === 'cn'}\r\n          onChange={toggleLanguage}\r\n          aria-label='Language Switch'\r\n        />\r\n      }\r\n      aria-label='Language Switch'\r\n      label={isMobile ? (language === 'en' ? 'English' : '中文') : ''} \r\n    />\r\n  );\r\n}\r\n","import { useContext } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Switch, FormControlLabel, useMediaQuery } from '@mui/material';\r\nimport { SettingsContext } from '../../../context/SettingsContext';\r\n\r\nconst MaterialUISwitch = styled(Switch)(({ theme }) => ({\r\n  width: 62,\r\n  height: 34,\r\n  padding: 7,\r\n  '& .MuiSwitch-switchBase': {\r\n    // margin: 1,\r\n    padding: 0,\r\n    transform: 'translateX(6px)',\r\n    '&.Mui-checked': {\r\n      color: '#fff',\r\n      transform: 'translateX(22px)',\r\n      '& .MuiSwitch-thumb:before': {\r\n        backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\r\n          '#fff',\r\n        )}\" d=\"M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z\"/></svg>')`,\r\n      },\r\n      '& + .MuiSwitch-track': {\r\n        opacity: 1,\r\n        backgroundColor: '#8796A5',\r\n      },\r\n    },\r\n  },\r\n  '& .MuiSwitch-thumb': {\r\n    backgroundColor: '#001e3c',\r\n    width: 32,\r\n    height: 32,\r\n    '&::before': {\r\n      content: \"''\",\r\n      position: 'absolute',\r\n      width: '100%',\r\n      height: '100%',\r\n      left: 0,\r\n      top: 0,\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundPosition: 'center',\r\n      backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\r\n        '#fff',\r\n      )}\" d=\"M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z\"/></svg>')`,\r\n    },\r\n  },\r\n  '& .MuiSwitch-track': {\r\n    opacity: 1,\r\n    backgroundColor: '#aab4be',\r\n    borderRadius: 20 / 2,\r\n  },\r\n}));\r\n\r\nexport default function ThemeSwitch() {\r\n  const { language, themeMode, toggleTheme } = useContext(SettingsContext);\r\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down('md')); \r\n\r\n  return (\r\n    <FormControlLabel\r\n      control={\r\n        <MaterialUISwitch\r\n          checked={themeMode === 'dark'}\r\n          onChange={toggleTheme}\r\n          aria-label='Theme Switch'\r\n        />\r\n      }\r\n      aria-label='Theme Switch'\r\n      label={\r\n        isMobile\r\n          ? language === 'cn'\r\n            ? themeMode === 'light'\r\n              ? '浅色模式'\r\n              : '深色模式'\r\n            : themeMode === 'light'\r\n            ? 'Light Mode'\r\n            : 'Dark Mode'\r\n          : ''\r\n      }\r\n    />\r\n  );\r\n}\r\n","import { Button, Box, Avatar } from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport { translations } from './translations';\r\nimport LanguageSwitchComponent from './LanguageSwitch';\r\nimport ThemeSwitch from './ThemeSwitch';\r\nimport stevenCartoon from \"../../../assets/img/steven_cartoon.jpeg\";\r\nimport { SettingsContext } from '../../../context/SettingsContext';\r\n\r\nconst DesktopNav = ({ language, toggleLanguage, themeMode, toggleTheme }) => {\r\n  const buttonColor = themeMode === 'dark' ? '#64B5F6' : '#13479c';\r\n  \r\n  return (\r\n    <>\r\n      <Box sx={{ flexGrow: 1, display: 'flex', alignItems: 'center', px: 0 }}>\r\n        <Avatar\r\n          src={stevenCartoon}\r\n          alt=\"Steven Logo\"\r\n          sx={{\r\n            width: 30,\r\n            height: 30,\r\n            mr: 1,\r\n            overflow: 'hidden',\r\n          }}\r\n        />\r\n        <Box sx={{ display: { xs: 'none', md: 'flex' } }}>\r\n          <Button component={Link} to=\"/\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor}}>\r\n            {translations[language].home || \"Home\"}\r\n          </Button>\r\n          <Button component={Link} to=\"/notes\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\r\n            {translations[language].notes || \"Notes\"}\r\n          </Button>\r\n          <Button component={Link} to=\"/blogs\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\r\n            {translations[language].blogs || \"Blogs\"}\r\n          </Button>\r\n          <Button component={Link} to=\"/projects\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor}}>\r\n            {translations[language].projects || \"Projects\"}\r\n          </Button>\r\n          <Button component={Link} to=\"/fin\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\r\n            {translations[language].finance || \"Finance\"}\r\n          </Button>\r\n          <Button component={Link} to=\"/profile\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\r\n            {translations[language].profile || \"Profile\"}\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box sx={{ \r\n        display: { xs: 'none', md: 'flex'}, \r\n        gap: 0, \r\n        alignItems: 'center',\r\n      }}>\r\n        <LanguageSwitchComponent onClick={toggleLanguage} />\r\n        <ThemeSwitch onClick={toggleTheme} />\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DesktopNav;","import { useState } from 'react';\r\nimport { \r\n  Dialog, \r\n  DialogTitle, \r\n  DialogContent, \r\n  DialogActions, \r\n  TextField, \r\n  Button, \r\n  Box, \r\n  CircularProgress, \r\n  Alert\r\n} from '@mui/material';\r\nimport UserService from '../../../services/UserService';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport { translations } from './translations';\r\n\r\nconst PasswordResetModal = ({ open, onClose, language }) => {\r\n  const { userState, setUser } = useUser();\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n  \r\n  const isSuperuser = userState.is_superuser;\r\n  \r\n  const resetForm = () => {\r\n    setCurrentPassword('');\r\n    setNewPassword('');\r\n    setConfirmPassword('');\r\n    setError('');\r\n    setSuccess(false);\r\n  };\r\n  \r\n  const handleClose = () => {\r\n    resetForm();\r\n    onClose();\r\n  };\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess(false);\r\n    \r\n    // Validation\r\n    if (newPassword !== confirmPassword) {\r\n      setError(translations[language].passwords_not_match || 'New passwords do not match');\r\n      return;\r\n    }\r\n    \r\n    if (newPassword.length < 6) {\r\n      setError(translations[language].password_too_short || 'Password must be at least 6 characters');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    try {\r\n      // If superuser, currentPassword is optional\r\n      const result = await UserService.reset_password(\r\n        userState.user_id, \r\n        newPassword,\r\n        !isSuperuser ? currentPassword : null, // Only send currentPassword if not superuser\r\n        userState.access\r\n      );\r\n      \r\n      if (result.success) {\r\n        setSuccess(true);\r\n        // Reset form fields after successful password change\r\n        setCurrentPassword('');\r\n        setNewPassword('');\r\n        setConfirmPassword('');\r\n\r\n        // Logout and Reset user state\r\n        const userData = await UserService.getNonuserJWT();\r\n        setUser(userData);\r\n        \r\n        // Auto close after 1 seconds on success\r\n        setTimeout(() => {\r\n          handleClose();\r\n        }, 1000);\r\n      } else {\r\n        setError(result.message || translations[language].password_reset_failed || 'Failed to reset password');\r\n      }\r\n    } catch (err) {\r\n      setError(translations[language].password_reset_error || 'An error occurred during password reset');\r\n      console.error('Password reset error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Dialog open={open} onClose={loading ? undefined : handleClose} maxWidth=\"sm\" fullWidth>\r\n      <DialogTitle>\r\n        {translations[language].password_reset || 'Reset Password'}\r\n      </DialogTitle>\r\n      <form onSubmit={handleSubmit}>\r\n        <DialogContent>\r\n          {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n          {success && <Alert severity=\"success\" sx={{ mb: 2 }}>\r\n            {translations[language].password_reset_success || 'Password reset successfully!'}\r\n          </Alert>}\r\n          \r\n          {/* Current password field (only required for non-superusers) */}\r\n          {!isSuperuser && (\r\n            <TextField\r\n              margin=\"dense\"\r\n              label={translations[language].current_password || 'Current Password'}\r\n              type=\"password\"\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              value={currentPassword}\r\n              onChange={(e) => setCurrentPassword(e.target.value)}\r\n              required\r\n              disabled={loading || success}\r\n              sx={{ mb: 2 }}\r\n            />\r\n          )}\r\n          \r\n          {/* New password fields */}\r\n          <TextField\r\n            margin=\"dense\"\r\n            label={translations[language].new_password || 'New Password'}\r\n            type=\"password\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={newPassword}\r\n            onChange={(e) => setNewPassword(e.target.value)}\r\n            required\r\n            disabled={loading || success}\r\n            sx={{ mb: 2 }}\r\n          />\r\n          \r\n          <TextField\r\n            margin=\"dense\"\r\n            label={translations[language].confirm_new_password || 'Confirm New Password'}\r\n            type=\"password\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n            required\r\n            disabled={loading || success}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} disabled={loading}>\r\n            {translations[language].cancel || 'Cancel'}\r\n          </Button>\r\n          <Box sx={{ position: 'relative' }}>\r\n            <Button \r\n              type=\"submit\" \r\n              color=\"primary\" \r\n              variant=\"contained\" \r\n              disabled={loading || success}\r\n            >\r\n              {translations[language].reset || 'Reset'}\r\n            </Button>\r\n            {loading && (\r\n              <CircularProgress\r\n                size={24}\r\n                sx={{\r\n                  position: 'absolute',\r\n                  top: '50%',\r\n                  left: '50%',\r\n                  marginTop: '-12px',\r\n                  marginLeft: '-12px',\r\n                }}\r\n              />\r\n            )}\r\n          </Box>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default PasswordResetModal;","import { useState } from 'react';\r\nimport { \r\n  Box, \r\n  IconButton, \r\n  Drawer, \r\n  MenuItem, \r\n  Divider, \r\n  Button \r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport CloseRoundedIcon from '@mui/icons-material/CloseRounded';\r\nimport LanguageSwitchComponent from './LanguageSwitch';\r\nimport ThemeSwitch from './ThemeSwitch';\r\nimport { translations } from './translations';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport UserService from '../../../services/UserService';\r\nimport PasswordResetModal from './PasswordResetModal'; // Import the PasswordResetModal component\r\n\r\nconst MobileDrawer = ({ \r\n  language, \r\n  toggleLanguage, \r\n  toggleTheme, \r\n  handleLoginOpen, \r\n  handleSignupOpen \r\n}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [passwordResetOpen, setPasswordResetOpen] = useState(false); // State for password reset modal\r\n  const { userState, setUser } = useUser();\r\n\r\n  const toggleDrawer = (newOpen) => () => {\r\n    setOpen(newOpen);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    const userData = await UserService.getNonuserJWT();\r\n    setUser(userData);\r\n    setOpen(false);\r\n  };\r\n\r\n  // Handle opening the password reset modal\r\n  const handlePasswordResetOpen = () => {\r\n    setPasswordResetOpen(true);\r\n    setOpen(false); // Optionally close the drawer when opening the modal\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: { xs: 'flex', md: 'none' }, gap: 1 }}>\r\n      <IconButton aria-label=\"Menu button\" onClick={toggleDrawer(true)}>\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Drawer\r\n        anchor=\"top\"\r\n        open={open}\r\n        onClose={toggleDrawer(false)}\r\n        PaperProps={{\r\n          sx: { top: 'var(--template-frame-height, 0px)' },\r\n        }}\r\n      >\r\n        <Box sx={{ p: 2, backgroundColor: 'background.default' }}>\r\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n            <IconButton onClick={toggleDrawer(false)}>\r\n              <CloseRoundedIcon />\r\n            </IconButton>\r\n          </Box>\r\n          \r\n          <MenuItem component={Link} to=\"/\">{translations[language].home}</MenuItem>\r\n          <MenuItem component={Link} to=\"/notes\">{translations[language].notes}</MenuItem>\r\n          <MenuItem component={Link} to=\"/blogs\">{translations[language].blogs}</MenuItem>\r\n          <MenuItem component={Link} to=\"/projects\">{translations[language].projects}</MenuItem>\r\n          <MenuItem component={Link} to=\"/fin\">{translations[language].finance}</MenuItem>\r\n          <MenuItem component={Link} to=\"/profile\">{translations[language].profile}</MenuItem>\r\n          {/* <MenuItem component={Link} to=\"/dashboard\">{translations[language].dashboard}</MenuItem> */}\r\n          \r\n          <Divider sx={{ my: 3 }} />\r\n          \r\n          <MenuItem>\r\n            <LanguageSwitchComponent onClick={toggleLanguage} />\r\n          </MenuItem>\r\n          <MenuItem>\r\n            <ThemeSwitch onClick={toggleTheme} />\r\n          </MenuItem>\r\n          \r\n          <Divider sx={{ my: 3 }} />\r\n\r\n          {userState.user_id === 0 ? (\r\n            <>\r\n              <MenuItem>\r\n                <Button\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  onClick={handleLoginOpen}\r\n                >\r\n                  {translations[language].login}\r\n                </Button>\r\n              </MenuItem>\r\n              <MenuItem>\r\n                <Button\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  fullWidth\r\n                  onClick={handleSignupOpen}\r\n                >\r\n                  {translations[language].signup}\r\n                </Button>\r\n              </MenuItem>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <MenuItem>\r\n                <Button\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  onClick={handlePasswordResetOpen} // Updated to use the new handler\r\n                >\r\n                  {translations[language].password_reset}\r\n                </Button>\r\n              </MenuItem>\r\n              <MenuItem>\r\n                <Button\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  fullWidth\r\n                  onClick={handleLogout}\r\n                >\r\n                  {translations[language].logout}\r\n                </Button>\r\n              </MenuItem>\r\n              <Divider sx={{ my: 1 }} />\r\n              <MenuItem>\r\n                <Button\r\n                  color=\"info\"\r\n                  fullWidth\r\n                  variant=\"text\"\r\n                  disabled\r\n                  sx={{ textTransform: 'none' }}\r\n                >\r\n                  {userState.username}\r\n                </Button>\r\n              </MenuItem>\r\n            </>\r\n          )}\r\n        </Box>\r\n      </Drawer>\r\n\r\n      {/* Password Reset Modal */}\r\n      <PasswordResetModal\r\n        open={passwordResetOpen}\r\n        onClose={() => setPasswordResetOpen(false)}\r\n        language={language}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MobileDrawer;","import { useState, useContext } from 'react';\r\nimport { Button, Menu, MenuItem } from '@mui/material';\r\nimport { translations } from './translations';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport UserService from '../../../services/UserService';\r\nimport PasswordResetModal from './PasswordResetModal';\r\n\r\nconst UserMenu = ({ language, themeMode }) => {\r\n  const { userState, setUser } = useUser();\r\n  const [ anchorEl, setAnchorEl ] = useState(null);\r\n  const [ passwordResetOpen, setPasswordResetOpen ] = useState(false);\r\n  \r\n  // Dynamic button color based on theme\r\n  const buttonColor = themeMode === 'dark' ? '#64B5F6' : '#13479c';\r\n    \r\n  const handleLogout = async () => {\r\n    const userData = await UserService.getNonuserJWT();\r\n    setUser(userData);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handlePasswordResetClick = () => {\r\n    setAnchorEl(null);\r\n    setPasswordResetOpen(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"text\"\r\n        size=\"small\"\r\n        onClick={(e) => setAnchorEl(e.currentTarget)}\r\n        sx={{ \r\n          textTransform: 'none',\r\n          color: buttonColor, // Use your custom color\r\n          '&:hover': {\r\n            backgroundColor: themeMode === 'dark' \r\n              ? 'rgba(3, 169, 244, 0.08)' \r\n              : 'rgba(22, 112, 197, 0.08)',\r\n          }\r\n        }}\r\n        aria-label={`User menu for ${userState.username}`}\r\n        aria-haspopup=\"true\"\r\n        aria-expanded={Boolean(anchorEl)}\r\n      >\r\n        {userState.username}\r\n      </Button>\r\n      \r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={() => setAnchorEl(null)}\r\n        sx={{ \r\n          ml: 0,\r\n          '& .MuiPaper-root': {\r\n            backgroundColor: themeMode === 'dark' ? '#424242' : '#ffffff',\r\n            color: themeMode === 'dark' ? '#ffffff' : '#000000',\r\n          }\r\n        }}\r\n        MenuListProps={{\r\n          'aria-labelledby': 'user-menu-button',\r\n        }}\r\n      >\r\n        <MenuItem \r\n          onClick={handlePasswordResetClick} \r\n          sx={{ \r\n            fontSize: '0.85rem',\r\n            '&:hover': {\r\n              backgroundColor: themeMode === 'dark' \r\n                ? 'rgba(255, 255, 255, 0.08)' \r\n                : 'rgba(0, 0, 0, 0.04)',\r\n            }\r\n          }}\r\n        >\r\n          {translations[language].password_reset || \"Reset Password\"}\r\n        </MenuItem>\r\n        <MenuItem \r\n          onClick={handleLogout} \r\n          sx={{ \r\n            fontSize: '0.85rem',\r\n            '&:hover': {\r\n              backgroundColor: themeMode === 'dark' \r\n                ? 'rgba(255, 255, 255, 0.08)' \r\n                : 'rgba(0, 0, 0, 0.04)',\r\n            }\r\n          }}\r\n        >\r\n          {translations[language].logout || 'Log out'}\r\n        </MenuItem>\r\n      </Menu>\r\n\r\n      <PasswordResetModal\r\n        open={passwordResetOpen}\r\n        onClose={() => setPasswordResetOpen(false)}\r\n        language={language}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserMenu;","import { useState, useContext, useEffect } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport TextField from '@mui/material/TextField';\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport MuiCard from '@mui/material/Card';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport { styled } from '@mui/material/styles';\r\nimport { SettingsContext } from '../../../context/SettingsContext';\r\nimport UserService from '../../../services/UserService';\r\nimport { useUser } from '../../../context/UserContext'; \r\nimport CloseRoundedIcon from '@mui/icons-material/CloseRounded';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nconst Card = styled(MuiCard)(({ theme, themeMode }) => ({\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignSelf: 'center',\r\n  padding: '32px',\r\n  margin: 'auto',\r\n  borderRadius: '8px',\r\n  gap: '16px',\r\n  boxShadow: themeMode === 'dark'\r\n    ? '0px 4px 20px rgba(0, 0, 0, 0.5)'\r\n    : '0px 4px 20px rgba(0, 0, 0, 0.2)',\r\n  [theme.breakpoints.down('sm')]: {\r\n    padding: '24px',\r\n    gap: '8px',\r\n  },\r\n}));\r\n\r\nexport default function LoginForm({ onClose, onSignupClick }) {\r\n  const { language, themeMode } = useContext(SettingsContext);\r\n  const { userState, setUser } = useUser();\r\n\r\n  const text = {\r\n    en: {\r\n      login: 'Log in',\r\n      username: 'Username',\r\n      usernamePlaceholder: 'username',\r\n      password: 'Password',\r\n      passwordPlaceholder: '••••••',\r\n      rememberMe: 'Remember me',\r\n      loginButton: 'Log In',\r\n      cancelButton: 'Cancel',\r\n      dividerText: 'or',\r\n      noAccount: \"Don't have an account?\",\r\n      signUp: 'Sign up',\r\n      usernameError: 'Username is required',\r\n      passwordError: 'Password is required',\r\n      unexpectedError: 'An unexpected error occurred',\r\n    },\r\n    cn: {\r\n      login: '登录',\r\n      username: '用户名',\r\n      usernamePlaceholder: '用户名',\r\n      password: '密码',\r\n      passwordPlaceholder: '••••••',\r\n      rememberMe: '记住我的密码',\r\n      loginButton: '登录',\r\n      cancelButton: '取消',\r\n      dividerText: '或',\r\n      noAccount: '还没有账号？',\r\n      signUp: '注册',\r\n      usernameError: '用户名是必填项',\r\n      passwordError: '密码是必填项',\r\n      unexpectedError: '意外错误',\r\n    },\r\n  };\r\n\r\n  const t = text[language] || text.en;\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [rememberMe, setRememberMe] = useState(false);\r\n  const [usernameError, setUsernameError] = useState(false);\r\n  const [usernameErrorMessage, setUsernameErrorMessage] = useState('');\r\n  const [passwordError, setPasswordError] = useState(false);\r\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // 当组件加载时，检查是否有保存的凭据\r\n  useEffect(() => {\r\n    const savedUsername = localStorage.getItem('rememberedUsername');\r\n    const savedPassword = localStorage.getItem('rememberedPassword');\r\n    \r\n    if (savedUsername && savedPassword) {\r\n      setUsername(savedUsername);\r\n      setPassword(savedPassword);\r\n      setRememberMe(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setUsernameError(false);\r\n    setPasswordError(false);\r\n    setUsernameErrorMessage('');\r\n    setPasswordErrorMessage('');\r\n    setLoading(true);\r\n  \r\n    if (!username) {\r\n      setUsernameError(true);\r\n      setUsernameErrorMessage(t.usernameError);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n  \r\n    if (!password) {\r\n      setPasswordError(true);\r\n      setPasswordErrorMessage(t.passwordError);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      const response = await UserService.login(username, password, userState.access);\r\n      if (response.status === 200) {\r\n        // 处理\"记住我\"功能\r\n        if (rememberMe) {\r\n          localStorage.setItem('rememberedUsername', username);\r\n        } else {\r\n          localStorage.removeItem('rememberedUsername');\r\n        }\r\n        \r\n        setUser(response);\r\n        if (onClose) onClose();\r\n      }\r\n    } catch (error) {\r\n      console.error('Login failed:', error);\r\n      setPasswordError(true);\r\n      setPasswordErrorMessage(\r\n        error.response?.data?.detail || t.unexpectedError\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        padding: 2,\r\n      }}\r\n    >\r\n      <Card\r\n        component=\"form\"\r\n        onSubmit={handleSubmit}\r\n        sx={{\r\n          width: {\r\n            xs: '90%',\r\n            md: '100%',\r\n          },\r\n          maxWidth: '450px',\r\n        }}\r\n        themeMode={themeMode}\r\n      >\r\n        <IconButton\r\n          onClick={onClose}\r\n          sx={{\r\n            position: 'absolute',\r\n            right: {\r\n              xs: 35,\r\n              md: 20,\r\n            },\r\n            top: {\r\n              xs: 15,\r\n              md: 20,\r\n            },\r\n          }}\r\n        >\r\n          <CloseRoundedIcon />\r\n        </IconButton>\r\n        <Typography\r\n          component=\"h1\"\r\n          variant=\"h4\"\r\n          align=\"center\"\r\n          sx={{\r\n            fontWeight: 'bold',\r\n            fontSize: {\r\n              xs: '1.5rem',\r\n              md: '1.8rem',\r\n            },\r\n            color: 'primary.main',\r\n            letterSpacing: 0.8,\r\n          }}\r\n        >\r\n          {t.login}\r\n        </Typography>\r\n        <FormControl>\r\n          <FormLabel htmlFor=\"username\">{t.username}</FormLabel>\r\n          <TextField\r\n            error={usernameError}\r\n            helperText={usernameErrorMessage}\r\n            id=\"username\"\r\n            type=\"text\"\r\n            name=\"username\"\r\n            placeholder={t.usernamePlaceholder}\r\n            autoComplete=\"username\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            required\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </FormControl>\r\n        <FormControl>\r\n          <FormLabel htmlFor=\"password\">{t.password}</FormLabel>\r\n          <TextField\r\n            error={passwordError}\r\n            helperText={passwordErrorMessage}\r\n            id=\"password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder={t.passwordPlaceholder}\r\n            autoComplete=\"current-password\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            required\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </FormControl>\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox \r\n              value=\"remember\" \r\n              color=\"primary\" \r\n              checked={rememberMe}\r\n              onChange={(e) => setRememberMe(e.target.checked)}\r\n            />\r\n          }\r\n          label={\r\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n              {t.rememberMe}\r\n              {loading && (\r\n                <CircularProgress\r\n                  size={20}\r\n                  sx={{\r\n                    marginLeft: 2,\r\n                  }}\r\n                />\r\n              )}\r\n            </Box>\r\n          }\r\n        />\r\n\r\n        <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\r\n          {t.loginButton}\r\n        </Button>\r\n        <Divider>{t.dividerText}</Divider>\r\n        <Typography align=\"center\" variant=\"body2\">\r\n          {t.noAccount}{' '}\r\n          <a\r\n            href=\"#\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (onSignupClick) onSignupClick();\r\n            }}\r\n          >\r\n            {t.signUp}\r\n          </a>\r\n        </Typography>\r\n      </Card>\r\n    </Box>\r\n  );\r\n}","import { useState, useContext } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport CloseRoundedIcon from '@mui/icons-material/CloseRounded';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport Divider from '@mui/material/Divider';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport TextField from '@mui/material/TextField';\r\nimport Typography from '@mui/material/Typography';\r\nimport MuiCard from '@mui/material/Card';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport { styled } from '@mui/material/styles';\r\nimport { SettingsContext } from '../../../context/SettingsContext';\r\nimport UserService from '../../../services/UserService';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport { useMediaQuery, useTheme } from '@mui/material';\r\nimport Link from '@mui/material/Link';\r\n\r\nconst Card = styled(MuiCard)(({ theme, themeMode }) => ({\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignSelf: 'center',\r\n  width: '100%',\r\n  padding: '30px',\r\n  gap: '8px',\r\n  margin: 'auto',\r\n  maxWidth: '450px',\r\n  borderRadius: '8px',\r\n  boxShadow:\r\n    'hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px',\r\n  [theme.breakpoints.down('sm')]: {\r\n    padding: '24px',\r\n    gap: '8px',\r\n  },\r\n}));\r\n\r\nexport default function SignupForm({ onClose, onLoginClick }) {\r\n  const { userState, setUser } = useUser();\r\n  const theme = useTheme();\r\n  const isMediumScreen = useMediaQuery(theme.breakpoints.up('md'));\r\n  const { language, themeMode } = useContext(SettingsContext);\r\n\r\n  // Define language texts\r\n  const text = {\r\n    en: {\r\n      signup: 'Sign up',\r\n      username: 'Username',\r\n      usernamePlaceholder: 'Enter your username',\r\n      password: 'Password',\r\n      confirmPassword: 'Confirm Password',\r\n      inviteCode: 'Invite Code (If needed, email Steven)',\r\n      terms: 'I agree to the',\r\n      termsLink: 'terms and conditions',\r\n      signupButton: 'Sign Up',\r\n      cancelButton: 'Cancel',\r\n      dividerText: 'or',\r\n      haveAccount: 'Already have an account?',\r\n      login: 'Log in',\r\n      usernameError: 'Username must be at least 3 characters long.',\r\n      passwordError: 'Password must be at least 6 characters long.',\r\n      confirmPasswordError: 'Passwords do not match.',\r\n      inviteCodeError: 'Invite code is required.',\r\n      termsError: 'You must agree to the terms and conditions.',\r\n      apiError: 'An unexpected error occurred.',\r\n      success: 'successfully completed!',\r\n      error: 'error',\r\n    },\r\n    cn: {\r\n      signup: '注册',\r\n      username: '用户名',\r\n      usernamePlaceholder: '请输入用户名',\r\n      password: '密码',\r\n      confirmPassword: '确认密码',\r\n      inviteCode: '邀请码（找要）',\r\n      terms: '我同意',\r\n      termsLink: '本网站的条款和协议',\r\n      signupButton: '注册',\r\n      cancelButton: '取消',\r\n      dividerText: '或',\r\n      haveAccount: '已经有账号？',\r\n      login: '登录',\r\n      usernameError: '用户名至少需要3个字符。',\r\n      passwordError: '密码至少需要6个字符。',\r\n      confirmPasswordError: '两次输入的密码不一致。',\r\n      inviteCodeError: '邀请码是必填项。',\r\n      termsError: '您必须同意条款和协议。',\r\n      apiError: '发生了意外错误。',\r\n      success: '成功完成！',\r\n      error: '错误',\r\n    },\r\n  };\r\n\r\n  const t = text[language] || text.en;\r\n\r\n  const [usernameError, setUsernameError] = useState(false);\r\n  const [usernameErrorMessage, setUsernameErrorMessage] = useState('');\r\n  const [passwordError, setPasswordError] = useState(false);\r\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState('');\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState(false);\r\n  const [confirmPasswordErrorMessage, setConfirmPasswordErrorMessage] = useState('');\r\n  const [inviteCodeError, setInviteCodeError] = useState(false);\r\n  const [inviteCodeErrorMessage, setInviteCodeErrorMessage] = useState('');\r\n  const [termsAccepted, setTermsAccepted] = useState(false);\r\n  const [termsError, setTermsError] = useState(false);\r\n  const [apiError, setApiError] = useState('');\r\n\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState('');\r\n  const [snackbarSeverity, setSnackbarSeverity] = useState('success');\r\n\r\n  // Base URL for the terms page - replace with the appropriate URL or environment variable\r\n  const baseUrl = process.env.REACT_APP_BASE_URL || ''; \r\n  const termsUrl = `${baseUrl}/md/${language === 'cn' ? 'cn' : 'en'}/terms`;\r\n\r\n  const validateInputs = () => {\r\n    const username = document.getElementById('username');\r\n    const password = document.getElementById('password');\r\n    const confirmPassword = document.getElementById('confirmPassword');\r\n    const inviteCode = document.getElementById('inviteCode');\r\n\r\n    let isValid = true;\r\n\r\n    if (!username.value || username.value.length < 3) {\r\n      setUsernameError(true);\r\n      setUsernameErrorMessage(t.usernameError);\r\n      isValid = false;\r\n    } else {\r\n      setUsernameError(false);\r\n      setUsernameErrorMessage('');\r\n    }\r\n\r\n    if (!password.value || password.value.length < 6) {\r\n      setPasswordError(true);\r\n      setPasswordErrorMessage(t.passwordError);\r\n      isValid = false;\r\n    } else {\r\n      setPasswordError(false);\r\n      setPasswordErrorMessage('');\r\n    }\r\n\r\n    if (confirmPassword.value !== password.value) {\r\n      setConfirmPasswordError(true);\r\n      setConfirmPasswordErrorMessage(t.confirmPasswordError);\r\n      isValid = false;\r\n    } else {\r\n      setConfirmPasswordError(false);\r\n      setConfirmPasswordErrorMessage('');\r\n    }\r\n\r\n    if (!inviteCode.value) {\r\n      setInviteCodeError(true);\r\n      setInviteCodeErrorMessage(t.inviteCodeError);\r\n      isValid = false;\r\n    } else {\r\n      setInviteCodeError(false);\r\n      setInviteCodeErrorMessage('');\r\n    }\r\n\r\n    if (!termsAccepted) {\r\n      setTermsError(true);\r\n      isValid = false;\r\n    } else {\r\n      setTermsError(false);\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (!validateInputs()) return;\r\n  \r\n    const data = new FormData(event.currentTarget);\r\n    const username = data.get('username');\r\n    const password = data.get('password');\r\n    const inviteCode = data.get('inviteCode');\r\n    \r\n    setApiError('');\r\n  \r\n    try {\r\n      const response = await UserService.register(username, password, inviteCode, userState.access);\r\n      \r\n      if (response.status === 201) {\r\n        // Show success message\r\n        setSnackbarMessage(t.signupButton + ' ' + t.success);\r\n        setSnackbarSeverity('success');\r\n        setSnackbarOpen(true);\r\n      \r\n        // Auto login after successful registration\r\n        try {\r\n          const loginResponse = await UserService.login(username, password, userState.access);\r\n          if (loginResponse.status === 200) {\r\n            setUser(loginResponse.data);\r\n            if (onClose) onClose();\r\n          }\r\n        } catch (loginError) {\r\n          console.error('Auto login error:', loginError);\r\n          // If auto-login fails, still redirect to login page\r\n          if (onLoginClick) {\r\n            setTimeout(() => {\r\n              onLoginClick();\r\n            }, 1500);\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Registration error:', error);\r\n      \r\n      if (error.response && error.response.data) {\r\n        const errors = error.response.data;\r\n        \r\n        // Show specific field errors\r\n        if (errors.username) {\r\n          setUsernameError(true);\r\n          setUsernameErrorMessage(Array.isArray(errors.username) ? errors.username[0] : errors.username);\r\n        }\r\n        \r\n        if (errors.password) {\r\n          setPasswordError(true);\r\n          setPasswordErrorMessage(Array.isArray(errors.password) ? errors.password[0] : errors.password);\r\n        }\r\n        \r\n        if (errors.invite_code) {\r\n          setInviteCodeError(true);\r\n          setInviteCodeErrorMessage(Array.isArray(errors.invite_code) ? errors.invite_code[0] : errors.invite_code);\r\n        }\r\n        \r\n        // Handle non-field errors\r\n        if (errors.non_field_errors || errors.detail) {\r\n          const nonFieldError = errors.non_field_errors || errors.detail;\r\n          setApiError(Array.isArray(nonFieldError) ? nonFieldError[0] : nonFieldError);\r\n          \r\n          // Show error in snackbar\r\n          setSnackbarMessage(Array.isArray(nonFieldError) ? nonFieldError[0] : nonFieldError);\r\n          setSnackbarSeverity('error');\r\n          setSnackbarOpen(true);\r\n        }\r\n      } else {\r\n        // Generic error handling\r\n        setApiError(t.apiError);\r\n        setSnackbarMessage(t.apiError);\r\n        setSnackbarSeverity('error');\r\n        setSnackbarOpen(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleTermsLinkClick = (e) => {\r\n    // Prevent the checkbox from toggling when clicking on the link\r\n    e.stopPropagation();\r\n  };\r\n\r\n  return (\r\n    <Card component=\"form\" onSubmit={handleSubmit}>\r\n      <IconButton\r\n        onClick={onClose}\r\n        sx={{\r\n          position: 'absolute',\r\n          right: {\r\n            xs: 6,\r\n            md: 6,\r\n          },\r\n          top: {\r\n            xs: 6,\r\n            md: 6,\r\n          },\r\n        }}\r\n      >\r\n        <CloseRoundedIcon />\r\n      </IconButton>\r\n      <Typography\r\n        component=\"h1\"\r\n        variant=\"h4\"\r\n        align=\"center\"\r\n        sx={{\r\n          fontWeight: 'bold',\r\n          fontSize: { md: '1.8rem', xs: '1.8rem' },\r\n          color: 'primary.main',\r\n          letterSpacing: 0.8,\r\n        }}\r\n      >\r\n        {t.signup}\r\n      </Typography>\r\n\r\n      {apiError && (\r\n        <Typography color=\"error\" align=\"center\">\r\n          {apiError}\r\n        </Typography>\r\n      )}\r\n\r\n      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n        <FormControl>\r\n          <FormLabel htmlFor=\"username\">{t.username}</FormLabel>\r\n          <TextField\r\n            error={usernameError}\r\n            helperText={usernameErrorMessage}\r\n            autoComplete=\"username\"\r\n            name=\"username\"\r\n            required\r\n            fullWidth\r\n            id=\"username\"\r\n            placeholder={t.usernamePlaceholder}\r\n            variant=\"outlined\"\r\n            size={isMediumScreen ? 'medium' : 'small'}\r\n          />\r\n        </FormControl>\r\n        <FormControl>\r\n          <FormLabel htmlFor=\"password\">{t.password}</FormLabel>\r\n          <TextField\r\n            error={passwordError}\r\n            helperText={passwordErrorMessage}\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"new-password\"\r\n            variant=\"outlined\"\r\n            size={isMediumScreen ? 'medium' : 'small'}\r\n          />\r\n        </FormControl>\r\n        <FormControl>\r\n          <FormLabel htmlFor=\"confirmPassword\">{t.confirmPassword}</FormLabel>\r\n          <TextField\r\n            error={confirmPasswordError}\r\n            helperText={confirmPasswordErrorMessage}\r\n            required\r\n            fullWidth\r\n            name=\"confirmPassword\"\r\n            type=\"password\"\r\n            id=\"confirmPassword\"\r\n            autoComplete=\"new-password\"\r\n            variant=\"outlined\"\r\n            size={isMediumScreen ? 'medium' : 'small'}\r\n          />\r\n        </FormControl>\r\n        <FormControl>\r\n          <FormLabel htmlFor=\"inviteCode\">{t.inviteCode}</FormLabel>\r\n          <TextField\r\n            error={inviteCodeError}\r\n            helperText={inviteCodeErrorMessage}\r\n            required\r\n            fullWidth\r\n            name=\"inviteCode\"\r\n            id=\"inviteCode\"\r\n            variant=\"outlined\"\r\n            size={isMediumScreen ? 'medium' : 'small'}\r\n          />\r\n        </FormControl>\r\n        <FormControl>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                required\r\n                color=\"primary\"\r\n                checked={termsAccepted}\r\n                onChange={(e) => setTermsAccepted(e.target.checked)}\r\n              />\r\n            }\r\n            label={\r\n              <Box component=\"span\" sx={{ display: 'inline-flex', alignItems: 'center', flexWrap: 'wrap' }}>\r\n                {t.terms}{' '}\r\n                <Link \r\n                  href={termsUrl}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  onClick={handleTermsLinkClick}\r\n                  sx={{ ml: 0.5, mr: 0.5 }}\r\n                >\r\n                  {t.termsLink}\r\n                </Link>\r\n                .\r\n              </Box>\r\n            }\r\n          />\r\n          {termsError && (\r\n            <Typography color=\"error\" variant=\"body2\" sx={{ mt: 0.5 }}>\r\n              {t.termsError}\r\n            </Typography>\r\n          )}\r\n        </FormControl>\r\n\r\n        <Button type=\"submit\" fullWidth variant=\"contained\">\r\n          {t.signupButton}\r\n        </Button>\r\n      </Box>\r\n      <Divider>\r\n        <Typography sx={{ color: 'text.secondary' }}>{t.dividerText}</Typography>\r\n      </Divider>\r\n      <Box>\r\n        <Typography align=\"center\" variant=\"body2\">\r\n          {t.haveAccount}{' '}\r\n          <a\r\n            href=\"#\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (onLoginClick) onLoginClick();\r\n            }}\r\n          >\r\n            {t.login}\r\n          </a>\r\n        </Typography>\r\n      </Box>\r\n      <Snackbar\r\n        open={snackbarOpen}\r\n        autoHideDuration={2000}\r\n        onClose={() => setSnackbarOpen(false)}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n      >\r\n        <MuiAlert onClose={() => setSnackbarOpen(false)} severity={snackbarSeverity} sx={{ width: '100%' }}>\r\n          {snackbarMessage}\r\n        </MuiAlert>\r\n      </Snackbar>\r\n    </Card>\r\n  );\r\n}","import { Modal, Box, Backdrop } from '@mui/material';\r\nimport LoginForm from './LoginForm';\r\nimport SignupForm from './SignupForm';\r\n\r\nexport const LoginModal = ({ open, handleClose, handleSignupOpen }) => {\r\n  const handleSignupClick = () => {\r\n    handleClose();\r\n    handleSignupOpen();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      open={open}\r\n      onClose={handleClose}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n        style: { backgroundColor: 'rgba(0, 0, 0, 0.5)', backdropFilter: 'blur(5px)' },\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          position: 'absolute',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)',\r\n          width: '100%',\r\n          maxWidth: 450,\r\n        }}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <LoginForm\r\n          onClose={handleClose}\r\n          onSignupClick={handleSignupClick}\r\n        />\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport const SignupModal = ({ open, handleClose, handleLoginOpen }) => {\r\n  const handleLoginClick = () => {\r\n    handleClose();\r\n    handleLoginOpen();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      open={open}\r\n      onClose={handleClose}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n        style: { backgroundColor: 'rgba(0, 0, 0, 0.5)', backdropFilter: 'blur(5px)' },\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          position: 'absolute',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translate(-50%, -50%)',\r\n          width: { md: '100%', xs: \"80%\" },\r\n          maxWidth: 450,\r\n        }}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <SignupForm\r\n          onClose={handleClose}\r\n          onLoginClick={handleLoginClick}\r\n        />\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};","import { useContext, useState } from 'react';\r\nimport { alpha, styled } from '@mui/material/styles';\r\nimport { AppBar, Box, Toolbar, Button, Container } from '@mui/material';\r\nimport { SettingsContext } from '../../../context/SettingsContext';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport { translations } from './translations';\r\nimport DesktopNav from './DesktopNav';\r\nimport MobileDrawer from './MobileDrawer';\r\nimport UserMenu from './UserMenu';\r\nimport { LoginModal, SignupModal } from './AuthModals';\r\n\r\nconst StyledToolbar = styled(Toolbar)(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'space-between',\r\n  flexShrink: 0,\r\n  borderRadius: `calc(${theme.shape.borderRadius}px + 8px)`,\r\n  backdropFilter: 'blur(24px)',\r\n  border: '1px solid',\r\n  borderColor: (theme.vars || theme).palette.divider,\r\n  backgroundColor: theme.vars\r\n    ? `rgba(${theme.vars.palette.background.defaultChannel} / 0.4)`\r\n    : alpha(theme.palette.background.default, 0.4),\r\n  boxShadow: (theme.vars || theme).shadows[1],\r\n  padding: '8px 12px',\r\n}));\r\n\r\nexport default function CustomAppBar() {\r\n  const { language, toggleLanguage, themeMode, toggleTheme } = useContext(SettingsContext);\r\n  const { userState } = useUser();\r\n\r\n  // 登录/注册模态框状态\r\n  const [loginOpen, setLoginOpen] = useState(false);\r\n  const [signupOpen, setSignupOpen] = useState(false);\r\n\r\n  const handleLoginOpen = () => setLoginOpen(true);\r\n  const handleLoginClose = () => setLoginOpen(false);\r\n  const handleSignupOpen = () => setSignupOpen(true);\r\n  const handleSignupClose = () => setSignupOpen(false);\r\n\r\n  return (\r\n    <AppBar\r\n      position=\"absolute\"\r\n      enableColorOnDark\r\n      sx={{\r\n        boxShadow: 0,\r\n        bgcolor: 'transparent',\r\n        backgroundImage: 'none',\r\n        mt: 'calc(var(--template-frame-height, 0px) + 28px)',\r\n      }}\r\n    >\r\n      <Container maxWidth=\"lg\">\r\n        <StyledToolbar variant=\"dense\" disableGutters>\r\n          {/* 桌面导航组件 */}\r\n          <DesktopNav \r\n            language={language} \r\n            toggleLanguage={toggleLanguage} \r\n            themeMode={themeMode}\r\n            toggleTheme={toggleTheme} \r\n          />\r\n\r\n          {/* 用户认证按钮/菜单 - 仅桌面版 */}\r\n          <Box sx={{ display: { xs: 'none', md: 'flex' }, gap: 1.5, alignItems: 'center' }}>\r\n            {userState.user_id === 0 ? (\r\n              <>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onClick={handleLoginOpen}\r\n                  sx={{\r\n                    color: themeMode === 'dark' ? '#64B5F6' : '#13479c',\r\n                    borderColor: themeMode === 'dark' ? '#64B5F6' : '#13479c',\r\n                    '&:hover': {\r\n                      backgroundColor: themeMode === 'dark' ? 'rgba(3, 169, 244, 0.08)' : 'rgba(22, 112, 197, 0.08)',\r\n                      borderColor: themeMode === 'dark' ? '#03a9f4' : '#1670C5',\r\n                      color: themeMode === 'dark' ? '#03a9f4' : '#1670C5',\r\n                    },\r\n                  }}\r\n                >\r\n                  {translations[language].login}\r\n                </Button>\r\n                <Button\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  onClick={handleSignupOpen}\r\n                >\r\n                  {translations[language].signup}\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <UserMenu language={language} themeMode={themeMode}/>\r\n            )}\r\n          </Box>\r\n\r\n          {/* 移动端抽屉菜单 */}\r\n          <MobileDrawer\r\n            language={language}\r\n            toggleLanguage={toggleLanguage}\r\n            toggleTheme={toggleTheme}\r\n            handleLoginOpen={handleLoginOpen}\r\n            handleSignupOpen={handleSignupOpen}\r\n          />\r\n        </StyledToolbar>\r\n      </Container>\r\n\r\n      {/* 登录/注册模态框 */}\r\n      <LoginModal \r\n        open={loginOpen} \r\n        handleClose={handleLoginClose} \r\n        handleSignupOpen={handleSignupOpen} \r\n      />\r\n      \r\n      <SignupModal \r\n        open={signupOpen} \r\n        handleClose={handleSignupClose} \r\n        handleLoginOpen={handleLoginOpen} \r\n      />\r\n    </AppBar>\r\n  );\r\n}"],"names":["translations","en","home","blogs","notes","projects","finance","profile","dashboard","login","logout","signup","password_reset","passwords_not_match","password_too_short","cn","LanguageSwitch","styled","Switch","_ref","theme","width","height","padding","transform","color","backgroundImage","encodeURIComponent","opacity","backgroundColor","content","position","left","top","backgroundRepeat","backgroundPosition","borderRadius","LanguageSwitchComponent","language","toggleLanguage","useContext","SettingsContext","isMobile","useMediaQuery","breakpoints","down","_jsx","FormControlLabel","control","checked","onChange","label","MaterialUISwitch","ThemeSwitch","themeMode","toggleTheme","buttonColor","_jsxs","_Fragment","children","Box","sx","flexGrow","display","alignItems","px","Avatar","src","stevenCartoon","alt","mr","overflow","xs","md","Button","component","Link","to","variant","size","minWidth","gap","onClick","open","onClose","userState","setUser","useUser","currentPassword","setCurrentPassword","useState","newPassword","setNewPassword","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","success","setSuccess","isSuperuser","is_superuser","handleClose","Dialog","undefined","maxWidth","fullWidth","DialogTitle","onSubmit","async","e","preventDefault","length","result","UserService","reset_password","user_id","access","userData","getNonuserJWT","setTimeout","message","password_reset_failed","err","password_reset_error","console","DialogContent","Alert","severity","mb","password_reset_success","TextField","margin","current_password","type","value","target","required","disabled","new_password","confirm_new_password","DialogActions","cancel","reset","CircularProgress","marginTop","marginLeft","handleLoginOpen","handleSignupOpen","setOpen","passwordResetOpen","setPasswordResetOpen","toggleDrawer","newOpen","IconButton","MenuIcon","Drawer","anchor","PaperProps","p","justifyContent","CloseRoundedIcon","MenuItem","Divider","my","handlePasswordResetOpen","textTransform","username","PasswordResetModal","anchorEl","setAnchorEl","currentTarget","Boolean","Menu","ml","MenuListProps","handlePasswordResetClick","fontSize","Card","MuiCard","flexDirection","alignSelf","boxShadow","LoginForm","_ref2","onSignupClick","text","usernamePlaceholder","password","passwordPlaceholder","rememberMe","loginButton","cancelButton","dividerText","noAccount","signUp","usernameError","passwordError","unexpectedError","t","setUsername","setPassword","setRememberMe","setUsernameError","usernameErrorMessage","setUsernameErrorMessage","setPasswordError","passwordErrorMessage","setPasswordErrorMessage","useEffect","savedUsername","localStorage","getItem","savedPassword","event","response","status","setItem","removeItem","_error$response","_error$response$data","data","detail","right","Typography","align","fontWeight","letterSpacing","FormControl","FormLabel","htmlFor","helperText","id","name","placeholder","autoComplete","Checkbox","href","SignupForm","onLoginClick","useTheme","isMediumScreen","up","inviteCode","terms","termsLink","signupButton","haveAccount","confirmPasswordError","inviteCodeError","termsError","apiError","setConfirmPasswordError","confirmPasswordErrorMessage","setConfirmPasswordErrorMessage","setInviteCodeError","inviteCodeErrorMessage","setInviteCodeErrorMessage","termsAccepted","setTermsAccepted","setTermsError","setApiError","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","snackbarSeverity","setSnackbarSeverity","termsUrl","process","REACT_APP_BASE_URL","validateInputs","document","getElementById","isValid","FormData","get","register","loginResponse","loginError","errors","Array","isArray","invite_code","non_field_errors","nonFieldError","flexWrap","rel","stopPropagation","mt","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","MuiAlert","LoginModal","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","style","backdropFilter","handleSignupClick","SignupModal","handleLoginClick","StyledToolbar","Toolbar","flexShrink","shape","border","borderColor","vars","palette","divider","background","defaultChannel","alpha","default","shadows","CustomAppBar","loginOpen","setLoginOpen","signupOpen","setSignupOpen","AppBar","enableColorOnDark","bgcolor","Container","disableGutters","DesktopNav","UserMenu","MobileDrawer","handleLoginClose","handleSignupClose"],"sourceRoot":""}