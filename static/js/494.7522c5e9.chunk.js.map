{"version":3,"file":"static/js/494.7522c5e9.chunk.js","mappings":"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","sources":["components/shared-components/AppBar/translations.js","components/shared-components/AppBar/LanguageSwitch.js","components/shared-components/AppBar/ThemeSwitch.js","components/shared-components/AppBar/DesktopNav.js","components/shared-components/AppBar/PasswordResetModal.js","components/shared-components/AppBar/MobileDrawer.js","components/shared-components/AppBar/UserMenu.js","components/shared-components/AppBar/LoginForm.js","components/shared-components/AppBar/SignupForm.js","components/shared-components/AppBar/AuthModals.js","components/shared-components/AppBar/AppBar.js"],"sourcesContent":["export const translations = {\n  en: {\n    home: 'Home',\n    blogs: 'Blogs',\n    notes: 'Notes',\n    projects: 'Projects',\n    finance: 'Finance',\n    profile: 'Profile',\n    dashboard: 'Dashboard',\n    login: 'Log in',\n    logout: 'Log out',\n    signup: 'Sign up',\n    password_reset: 'Reset Password',\n    passwords_not_match: 'Passwords do not match',\n    password_too_short: 'Password must be at least 6 characters',\n  },\n  cn: {\n    home: '主页',\n    blogs: '博客',\n    notes: '笔记',\n    projects: '项目',\n    finance: '金融面板',\n    profile: '个人简介',\n    dashboard: '仪表盘',\n    login: '登录',\n    logout: '退出登录',\n    signup: '注册',\n    password_reset: '修改密码',\n    passwords_not_match: '密码不匹配',\n    password_too_short: '密码至少需要6个字符',\n  },\n};","import { useContext } from 'react';\nimport { styled } from '@mui/material/styles';\nimport { Switch, FormControlLabel, useMediaQuery } from '@mui/material';\nimport { SettingsContext } from '../../../context/SettingsContext';\n\nconst LanguageSwitch = styled(Switch)(({ theme }) => ({\n  width: 62,\n  height: 34,\n  padding: 7,\n  '& .MuiSwitch-switchBase': {\n    // margin: 1,\n    padding: 0,\n    transform: 'translateX(6px)',\n    '&.Mui-checked': {\n      color: '#fff',\n      transform: 'translateX(22px)',\n      '& .MuiSwitch-thumb:before': {\n        backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><text x=\"3\" y=\"15\" font-size=\"14\" fill=\"${encodeURIComponent(\n          '#fff',\n        )}\">中</text></svg>')`, // 中文图标\n      },\n      '& + .MuiSwitch-track': {\n        opacity: 1,\n        backgroundColor: '#8796A5',\n      },\n    },\n  },\n  '& .MuiSwitch-thumb': {\n    backgroundColor: '#001e3c',\n    width: 32,\n    height: 32,\n    '&::before': {\n      content: \"''\",\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      left: 0,\n      top: 0,\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: 'center',\n      backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><text x=\"3\" y=\"15\" font-size=\"14\" fill=\"${encodeURIComponent(\n        '#fff',\n      )}\">En</text></svg>')`, // 英文图标\n    },\n  },\n  '& .MuiSwitch-track': {\n    opacity: 1,\n    backgroundColor: '#aab4be',\n    borderRadius: 20 / 2,\n  },\n}));\n\nexport default function LanguageSwitchComponent() {\n  const { language, toggleLanguage } = useContext(SettingsContext);\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down('md')); \n\n  return (\n    <FormControlLabel\n      control={\n        <LanguageSwitch\n          checked={language === 'cn'}\n          onChange={toggleLanguage}\n          aria-label='Language Switch'\n        />\n      }\n      aria-label='Language Switch'\n      label={isMobile ? (language === 'en' ? 'English' : '中文') : ''} \n    />\n  );\n}\n","import { useContext } from 'react';\nimport { styled } from '@mui/material/styles';\nimport { Switch, FormControlLabel, useMediaQuery } from '@mui/material';\nimport { SettingsContext } from '../../../context/SettingsContext';\n\nconst MaterialUISwitch = styled(Switch)(({ theme }) => ({\n  width: 62,\n  height: 34,\n  padding: 7,\n  '& .MuiSwitch-switchBase': {\n    // margin: 1,\n    padding: 0,\n    transform: 'translateX(6px)',\n    '&.Mui-checked': {\n      color: '#fff',\n      transform: 'translateX(22px)',\n      '& .MuiSwitch-thumb:before': {\n        backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\n          '#fff',\n        )}\" d=\"M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z\"/></svg>')`,\n      },\n      '& + .MuiSwitch-track': {\n        opacity: 1,\n        backgroundColor: '#8796A5',\n      },\n    },\n  },\n  '& .MuiSwitch-thumb': {\n    backgroundColor: '#001e3c',\n    width: 32,\n    height: 32,\n    '&::before': {\n      content: \"''\",\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      left: 0,\n      top: 0,\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: 'center',\n      backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\n        '#fff',\n      )}\" d=\"M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z\"/></svg>')`,\n    },\n  },\n  '& .MuiSwitch-track': {\n    opacity: 1,\n    backgroundColor: '#aab4be',\n    borderRadius: 20 / 2,\n  },\n}));\n\nexport default function ThemeSwitch() {\n  const { language, themeMode, toggleTheme } = useContext(SettingsContext);\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down('md')); \n\n  return (\n    <FormControlLabel\n      control={\n        <MaterialUISwitch\n          checked={themeMode === 'dark'}\n          onChange={toggleTheme}\n          aria-label='Theme Switch'\n        />\n      }\n      aria-label='Theme Switch'\n      label={\n        isMobile\n          ? language === 'cn'\n            ? themeMode === 'light'\n              ? '浅色模式'\n              : '深色模式'\n            : themeMode === 'light'\n            ? 'Light Mode'\n            : 'Dark Mode'\n          : ''\n      }\n    />\n  );\n}\n","import { Button, Box, Avatar } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport { translations } from './translations';\nimport LanguageSwitchComponent from './LanguageSwitch';\nimport ThemeSwitch from './ThemeSwitch';\nimport stevenCartoon from \"../../../assets/img/steven_cartoon.jpeg\";\nimport { SettingsContext } from '../../../context/SettingsContext';\n\nconst DesktopNav = ({ language, toggleLanguage, themeMode, toggleTheme }) => {\n  const buttonColor = themeMode === 'dark' ? '#03a9f4' : '#1670C5';\n  \n  return (\n    <>\n      <Box sx={{ flexGrow: 1, display: 'flex', alignItems: 'center', px: 0 }}>\n        <Avatar\n          src={stevenCartoon}\n          alt=\"Steven Logo\"\n          sx={{\n            width: 30,\n            height: 30,\n            mr: 1,\n            overflow: 'hidden',\n          }}\n        />\n        <Box sx={{ display: { xs: 'none', md: 'flex' } }}>\n          <Button component={Link} to=\"/\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\n            {translations[language].home || \"Home\"}\n          </Button>\n          <Button component={Link} to=\"/notes\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\n            {translations[language].notes || \"Notes\"}\n          </Button>\n          <Button component={Link} to=\"/blogs\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\n            {translations[language].blogs || \"Blogs\"}\n          </Button>\n          <Button component={Link} to=\"/projects\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\n            {translations[language].projects || \"Projects\"}\n          </Button>\n          <Button component={Link} to=\"/fin\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\n            {translations[language].finance || \"Finance\"}\n          </Button>\n          <Button component={Link} to=\"/profile\" variant=\"text\" size=\"small\" sx={{ minWidth: 0, color: buttonColor }}>\n            {translations[language].profile || \"Profile\"}\n          </Button>\n        </Box>\n      </Box>\n\n      <Box sx={{ \n        display: { xs: 'none', md: 'flex'}, \n        gap: 0, \n        alignItems: 'center',\n      }}>\n        <LanguageSwitchComponent onClick={toggleLanguage} />\n        <ThemeSwitch onClick={toggleTheme} />\n      </Box>\n    </>\n  );\n};\n\nexport default DesktopNav;","import { useState } from 'react';\nimport { \n  Dialog, \n  DialogTitle, \n  DialogContent, \n  DialogActions, \n  TextField, \n  Button, \n  Box, \n  CircularProgress, \n  Alert\n} from '@mui/material';\nimport UserService from '../../../services/UserService';\nimport { useUser } from '../../../context/UserContext';\nimport { translations } from './translations';\n\nconst PasswordResetModal = ({ open, onClose, language }) => {\n  const { userState, setUser } = useUser();\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  \n  const isSuperuser = userState.is_superuser;\n  \n  const resetForm = () => {\n    setCurrentPassword('');\n    setNewPassword('');\n    setConfirmPassword('');\n    setError('');\n    setSuccess(false);\n  };\n  \n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess(false);\n    \n    // Validation\n    if (newPassword !== confirmPassword) {\n      setError(translations[language].passwords_not_match || 'New passwords do not match');\n      return;\n    }\n    \n    if (newPassword.length < 6) {\n      setError(translations[language].password_too_short || 'Password must be at least 6 characters');\n      return;\n    }\n    \n    setLoading(true);\n    \n    try {\n      // If superuser, currentPassword is optional\n      const result = await UserService.reset_password(\n        userState.user_id, \n        newPassword,\n        !isSuperuser ? currentPassword : null, // Only send currentPassword if not superuser\n        userState.access\n      );\n      \n      if (result.success) {\n        setSuccess(true);\n        // Reset form fields after successful password change\n        setCurrentPassword('');\n        setNewPassword('');\n        setConfirmPassword('');\n\n        // Logout and Reset user state\n        const userData = await UserService.getNonuserJWT();\n        setUser(userData);\n        \n        // Auto close after 1 seconds on success\n        setTimeout(() => {\n          handleClose();\n        }, 1000);\n      } else {\n        setError(result.message || translations[language].password_reset_failed || 'Failed to reset password');\n      }\n    } catch (err) {\n      setError(translations[language].password_reset_error || 'An error occurred during password reset');\n      console.error('Password reset error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  return (\n    <Dialog open={open} onClose={loading ? undefined : handleClose} maxWidth=\"sm\" fullWidth>\n      <DialogTitle>\n        {translations[language].password_reset || 'Reset Password'}\n      </DialogTitle>\n      <form onSubmit={handleSubmit}>\n        <DialogContent>\n          {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\n          {success && <Alert severity=\"success\" sx={{ mb: 2 }}>\n            {translations[language].password_reset_success || 'Password reset successfully!'}\n          </Alert>}\n          \n          {/* Current password field (only required for non-superusers) */}\n          {!isSuperuser && (\n            <TextField\n              margin=\"dense\"\n              label={translations[language].current_password || 'Current Password'}\n              type=\"password\"\n              fullWidth\n              variant=\"outlined\"\n              value={currentPassword}\n              onChange={(e) => setCurrentPassword(e.target.value)}\n              required\n              disabled={loading || success}\n              sx={{ mb: 2 }}\n            />\n          )}\n          \n          {/* New password fields */}\n          <TextField\n            margin=\"dense\"\n            label={translations[language].new_password || 'New Password'}\n            type=\"password\"\n            fullWidth\n            variant=\"outlined\"\n            value={newPassword}\n            onChange={(e) => setNewPassword(e.target.value)}\n            required\n            disabled={loading || success}\n            sx={{ mb: 2 }}\n          />\n          \n          <TextField\n            margin=\"dense\"\n            label={translations[language].confirm_new_password || 'Confirm New Password'}\n            type=\"password\"\n            fullWidth\n            variant=\"outlined\"\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n            required\n            disabled={loading || success}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} disabled={loading}>\n            {translations[language].cancel || 'Cancel'}\n          </Button>\n          <Box sx={{ position: 'relative' }}>\n            <Button \n              type=\"submit\" \n              color=\"primary\" \n              variant=\"contained\" \n              disabled={loading || success}\n            >\n              {translations[language].reset || 'Reset'}\n            </Button>\n            {loading && (\n              <CircularProgress\n                size={24}\n                sx={{\n                  position: 'absolute',\n                  top: '50%',\n                  left: '50%',\n                  marginTop: '-12px',\n                  marginLeft: '-12px',\n                }}\n              />\n            )}\n          </Box>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default PasswordResetModal;","import { useState } from 'react';\nimport { \n  Box, \n  IconButton, \n  Drawer, \n  MenuItem, \n  Divider, \n  Button \n} from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport CloseRoundedIcon from '@mui/icons-material/CloseRounded';\nimport LanguageSwitchComponent from './LanguageSwitch';\nimport ThemeSwitch from './ThemeSwitch';\nimport { translations } from './translations';\nimport { useUser } from '../../../context/UserContext';\nimport UserService from '../../../services/UserService';\nimport PasswordResetModal from './PasswordResetModal'; // Import the PasswordResetModal component\n\nconst MobileDrawer = ({ \n  language, \n  toggleLanguage, \n  toggleTheme, \n  handleLoginOpen, \n  handleSignupOpen \n}) => {\n  const [open, setOpen] = useState(false);\n  const [passwordResetOpen, setPasswordResetOpen] = useState(false); // State for password reset modal\n  const { userState, setUser } = useUser();\n\n  const toggleDrawer = (newOpen) => () => {\n    setOpen(newOpen);\n  };\n\n  const handleLogout = async () => {\n    const userData = await UserService.getNonuserJWT();\n    setUser(userData);\n    setOpen(false);\n  };\n\n  // Handle opening the password reset modal\n  const handlePasswordResetOpen = () => {\n    setPasswordResetOpen(true);\n    setOpen(false); // Optionally close the drawer when opening the modal\n  };\n\n  return (\n    <Box sx={{ display: { xs: 'flex', md: 'none' }, gap: 1 }}>\n      <IconButton aria-label=\"Menu button\" onClick={toggleDrawer(true)}>\n        <MenuIcon />\n      </IconButton>\n      <Drawer\n        anchor=\"top\"\n        open={open}\n        onClose={toggleDrawer(false)}\n        PaperProps={{\n          sx: { top: 'var(--template-frame-height, 0px)' },\n        }}\n      >\n        <Box sx={{ p: 2, backgroundColor: 'background.default' }}>\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\n            <IconButton onClick={toggleDrawer(false)}>\n              <CloseRoundedIcon />\n            </IconButton>\n          </Box>\n          \n          <MenuItem component={Link} to=\"/\">{translations[language].home}</MenuItem>\n          <MenuItem component={Link} to=\"/notes\">{translations[language].notes}</MenuItem>\n          <MenuItem component={Link} to=\"/blogs\">{translations[language].blogs}</MenuItem>\n          <MenuItem component={Link} to=\"/projects\">{translations[language].projects}</MenuItem>\n          <MenuItem component={Link} to=\"/fin\">{translations[language].finance}</MenuItem>\n          <MenuItem component={Link} to=\"/profile\">{translations[language].profile}</MenuItem>\n          {/* <MenuItem component={Link} to=\"/dashboard\">{translations[language].dashboard}</MenuItem> */}\n          \n          <Divider sx={{ my: 3 }} />\n          \n          <MenuItem>\n            <LanguageSwitchComponent onClick={toggleLanguage} />\n          </MenuItem>\n          <MenuItem>\n            <ThemeSwitch onClick={toggleTheme} />\n          </MenuItem>\n          \n          <Divider sx={{ my: 3 }} />\n\n          {userState.user_id === 0 ? (\n            <>\n              <MenuItem>\n                <Button\n                  color=\"primary\"\n                  variant=\"outlined\"\n                  fullWidth\n                  onClick={handleLoginOpen}\n                >\n                  {translations[language].login}\n                </Button>\n              </MenuItem>\n              <MenuItem>\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  fullWidth\n                  onClick={handleSignupOpen}\n                >\n                  {translations[language].signup}\n                </Button>\n              </MenuItem>\n            </>\n          ) : (\n            <>\n              <MenuItem>\n                <Button\n                  color=\"primary\"\n                  variant=\"outlined\"\n                  fullWidth\n                  onClick={handlePasswordResetOpen} // Updated to use the new handler\n                >\n                  {translations[language].password_reset}\n                </Button>\n              </MenuItem>\n              <MenuItem>\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  fullWidth\n                  onClick={handleLogout}\n                >\n                  {translations[language].logout}\n                </Button>\n              </MenuItem>\n              <Divider sx={{ my: 1 }} />\n              <MenuItem>\n                <Button\n                  color=\"info\"\n                  fullWidth\n                  variant=\"text\"\n                  disabled\n                  sx={{ textTransform: 'none' }}\n                >\n                  {userState.username}\n                </Button>\n              </MenuItem>\n            </>\n          )}\n        </Box>\n      </Drawer>\n\n      {/* Password Reset Modal */}\n      <PasswordResetModal\n        open={passwordResetOpen}\n        onClose={() => setPasswordResetOpen(false)}\n        language={language}\n      />\n    </Box>\n  );\n};\n\nexport default MobileDrawer;","import { useState, useContext } from 'react';\nimport { Button, Menu, MenuItem } from '@mui/material';\nimport { translations } from './translations';\nimport { useUser } from '../../../context/UserContext';\nimport UserService from '../../../services/UserService';\nimport PasswordResetModal from './PasswordResetModal';\n\nconst UserMenu = ({ language, themeMode }) => {\n  const { userState, setUser } = useUser();\n  const [ anchorEl, setAnchorEl ] = useState(null);\n  const [ passwordResetOpen, setPasswordResetOpen ] = useState(false);\n  \n  // Dynamic button color based on theme\n  const buttonColor = themeMode === 'dark' ? '#03a9f4' : '#1670C5';\n    \n  const handleLogout = async () => {\n    const userData = await UserService.getNonuserJWT();\n    setUser(userData);\n    setAnchorEl(null);\n  };\n\n  const handlePasswordResetClick = () => {\n    setAnchorEl(null);\n    setPasswordResetOpen(true);\n  };\n\n  return (\n    <>\n      <Button\n        variant=\"text\"\n        size=\"small\"\n        onClick={(e) => setAnchorEl(e.currentTarget)}\n        sx={{ \n          textTransform: 'none',\n          color: buttonColor, // Use your custom color\n          '&:hover': {\n            backgroundColor: themeMode === 'dark' \n              ? 'rgba(3, 169, 244, 0.08)' \n              : 'rgba(22, 112, 197, 0.08)',\n          }\n        }}\n        aria-label={`User menu for ${userState.username}`}\n        aria-haspopup=\"true\"\n        aria-expanded={Boolean(anchorEl)}\n      >\n        {userState.username}\n      </Button>\n      \n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={() => setAnchorEl(null)}\n        sx={{ \n          ml: 0,\n          '& .MuiPaper-root': {\n            backgroundColor: themeMode === 'dark' ? '#424242' : '#ffffff',\n            color: themeMode === 'dark' ? '#ffffff' : '#000000',\n          }\n        }}\n        MenuListProps={{\n          'aria-labelledby': 'user-menu-button',\n        }}\n      >\n        <MenuItem \n          onClick={handlePasswordResetClick} \n          sx={{ \n            fontSize: '0.85rem',\n            '&:hover': {\n              backgroundColor: themeMode === 'dark' \n                ? 'rgba(255, 255, 255, 0.08)' \n                : 'rgba(0, 0, 0, 0.04)',\n            }\n          }}\n        >\n          {translations[language].password_reset || \"Reset Password\"}\n        </MenuItem>\n        <MenuItem \n          onClick={handleLogout} \n          sx={{ \n            fontSize: '0.85rem',\n            '&:hover': {\n              backgroundColor: themeMode === 'dark' \n                ? 'rgba(255, 255, 255, 0.08)' \n                : 'rgba(0, 0, 0, 0.04)',\n            }\n          }}\n        >\n          {translations[language].logout || 'Log out'}\n        </MenuItem>\n      </Menu>\n\n      <PasswordResetModal\n        open={passwordResetOpen}\n        onClose={() => setPasswordResetOpen(false)}\n        language={language}\n      />\n    </>\n  );\n};\n\nexport default UserMenu;","import { useState, useContext, useEffect } from 'react';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Checkbox from '@mui/material/Checkbox';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormLabel from '@mui/material/FormLabel';\nimport FormControl from '@mui/material/FormControl';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport MuiCard from '@mui/material/Card';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { styled } from '@mui/material/styles';\nimport { SettingsContext } from '../../../context/SettingsContext';\nimport UserService from '../../../services/UserService';\nimport { useUser } from '../../../context/UserContext'; \nimport CloseRoundedIcon from '@mui/icons-material/CloseRounded';\nimport IconButton from '@mui/material/IconButton';\n\nconst Card = styled(MuiCard)(({ theme, themeMode }) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  alignSelf: 'center',\n  padding: '32px',\n  margin: 'auto',\n  borderRadius: '8px',\n  gap: '16px',\n  boxShadow: themeMode === 'dark'\n    ? '0px 4px 20px rgba(0, 0, 0, 0.5)'\n    : '0px 4px 20px rgba(0, 0, 0, 0.2)',\n  [theme.breakpoints.down('sm')]: {\n    padding: '24px',\n    gap: '8px',\n  },\n}));\n\nexport default function LoginForm({ onClose, onSignupClick }) {\n  const { language, themeMode } = useContext(SettingsContext);\n  const { userState, setUser } = useUser();\n\n  const text = {\n    en: {\n      login: 'Log in',\n      username: 'Username',\n      usernamePlaceholder: 'username',\n      password: 'Password',\n      passwordPlaceholder: '••••••',\n      rememberMe: 'Remember me',\n      loginButton: 'Log In',\n      cancelButton: 'Cancel',\n      dividerText: 'or',\n      noAccount: \"Don't have an account?\",\n      signUp: 'Sign up',\n      usernameError: 'Username is required',\n      passwordError: 'Password is required',\n      unexpectedError: 'An unexpected error occurred',\n    },\n    cn: {\n      login: '登录',\n      username: '用户名',\n      usernamePlaceholder: '用户名',\n      password: '密码',\n      passwordPlaceholder: '••••••',\n      rememberMe: '记住我的密码',\n      loginButton: '登录',\n      cancelButton: '取消',\n      dividerText: '或',\n      noAccount: '还没有账号？',\n      signUp: '注册',\n      usernameError: '用户名是必填项',\n      passwordError: '密码是必填项',\n      unexpectedError: '意外错误',\n    },\n  };\n\n  const t = text[language] || text.en;\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [rememberMe, setRememberMe] = useState(false);\n  const [usernameError, setUsernameError] = useState(false);\n  const [usernameErrorMessage, setUsernameErrorMessage] = useState('');\n  const [passwordError, setPasswordError] = useState(false);\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // 当组件加载时，检查是否有保存的凭据\n  useEffect(() => {\n    const savedUsername = localStorage.getItem('rememberedUsername');\n    const savedPassword = localStorage.getItem('rememberedPassword');\n    \n    if (savedUsername && savedPassword) {\n      setUsername(savedUsername);\n      setPassword(savedPassword);\n      setRememberMe(true);\n    }\n  }, []);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setUsernameError(false);\n    setPasswordError(false);\n    setUsernameErrorMessage('');\n    setPasswordErrorMessage('');\n    setLoading(true);\n  \n    if (!username) {\n      setUsernameError(true);\n      setUsernameErrorMessage(t.usernameError);\n      setLoading(false);\n      return;\n    }\n  \n    if (!password) {\n      setPasswordError(true);\n      setPasswordErrorMessage(t.passwordError);\n      setLoading(false);\n      return;\n    }\n  \n    try {\n      const response = await UserService.login(username, password, userState.access);\n      if (response.status === 200) {\n        // 处理\"记住我\"功能\n        if (rememberMe) {\n          localStorage.setItem('rememberedUsername', username);\n        } else {\n          localStorage.removeItem('rememberedUsername');\n        }\n        \n        setUser(response);\n        if (onClose) onClose();\n      }\n    } catch (error) {\n      console.error('Login failed:', error);\n      setPasswordError(true);\n      setPasswordErrorMessage(\n        error.response?.data?.detail || t.unexpectedError\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        padding: 2,\n      }}\n    >\n      <Card\n        component=\"form\"\n        onSubmit={handleSubmit}\n        sx={{\n          width: {\n            xs: '90%',\n            md: '100%',\n          },\n          maxWidth: '450px',\n        }}\n        themeMode={themeMode}\n      >\n        <IconButton\n          onClick={onClose}\n          sx={{\n            position: 'absolute',\n            right: {\n              xs: 35,\n              md: 20,\n            },\n            top: {\n              xs: 15,\n              md: 20,\n            },\n          }}\n        >\n          <CloseRoundedIcon />\n        </IconButton>\n        <Typography\n          component=\"h1\"\n          variant=\"h4\"\n          align=\"center\"\n          sx={{\n            fontWeight: 'bold',\n            fontSize: {\n              xs: '1.5rem',\n              md: '1.8rem',\n            },\n            color: 'primary.main',\n            letterSpacing: 0.8,\n          }}\n        >\n          {t.login}\n        </Typography>\n        <FormControl>\n          <FormLabel htmlFor=\"username\">{t.username}</FormLabel>\n          <TextField\n            error={usernameError}\n            helperText={usernameErrorMessage}\n            id=\"username\"\n            type=\"text\"\n            name=\"username\"\n            placeholder={t.usernamePlaceholder}\n            autoComplete=\"username\"\n            fullWidth\n            variant=\"outlined\"\n            required\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </FormControl>\n        <FormControl>\n          <FormLabel htmlFor=\"password\">{t.password}</FormLabel>\n          <TextField\n            error={passwordError}\n            helperText={passwordErrorMessage}\n            id=\"password\"\n            type=\"password\"\n            name=\"password\"\n            placeholder={t.passwordPlaceholder}\n            autoComplete=\"current-password\"\n            fullWidth\n            variant=\"outlined\"\n            required\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </FormControl>\n        <FormControlLabel\n          control={\n            <Checkbox \n              value=\"remember\" \n              color=\"primary\" \n              checked={rememberMe}\n              onChange={(e) => setRememberMe(e.target.checked)}\n            />\n          }\n          label={\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              {t.rememberMe}\n              {loading && (\n                <CircularProgress\n                  size={20}\n                  sx={{\n                    marginLeft: 2,\n                  }}\n                />\n              )}\n            </Box>\n          }\n        />\n\n        <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n          {t.loginButton}\n        </Button>\n        <Divider>{t.dividerText}</Divider>\n        <Typography align=\"center\" variant=\"body2\">\n          {t.noAccount}{' '}\n          <a\n            href=\"#\"\n            onClick={(e) => {\n              e.preventDefault();\n              if (onSignupClick) onSignupClick();\n            }}\n          >\n            {t.signUp}\n          </a>\n        </Typography>\n      </Card>\n    </Box>\n  );\n}","import { useState, useContext } from 'react';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport CloseRoundedIcon from '@mui/icons-material/CloseRounded';\nimport IconButton from '@mui/material/IconButton';\nimport Checkbox from '@mui/material/Checkbox';\nimport Divider from '@mui/material/Divider';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormLabel from '@mui/material/FormLabel';\nimport FormControl from '@mui/material/FormControl';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport MuiCard from '@mui/material/Card';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nimport { styled } from '@mui/material/styles';\nimport { SettingsContext } from '../../../context/SettingsContext';\nimport UserService from '../../../services/UserService';\nimport { useUser } from '../../../context/UserContext';\nimport { useMediaQuery, useTheme } from '@mui/material';\nimport Link from '@mui/material/Link';\n\nconst Card = styled(MuiCard)(({ theme, themeMode }) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  alignSelf: 'center',\n  width: '100%',\n  padding: '30px',\n  gap: '8px',\n  margin: 'auto',\n  maxWidth: '450px',\n  borderRadius: '8px',\n  boxShadow:\n    'hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px',\n  [theme.breakpoints.down('sm')]: {\n    padding: '24px',\n    gap: '8px',\n  },\n}));\n\nexport default function SignupForm({ onClose, onLoginClick }) {\n  const { userState, setUser } = useUser();\n  const theme = useTheme();\n  const isMediumScreen = useMediaQuery(theme.breakpoints.up('md'));\n  const { language, themeMode } = useContext(SettingsContext);\n\n  // Define language texts\n  const text = {\n    en: {\n      signup: 'Sign up',\n      username: 'Username',\n      usernamePlaceholder: 'Enter your username',\n      password: 'Password',\n      confirmPassword: 'Confirm Password',\n      inviteCode: 'Invite Code (If needed, email Steven)',\n      terms: 'I agree to the',\n      termsLink: 'terms and conditions',\n      signupButton: 'Sign Up',\n      cancelButton: 'Cancel',\n      dividerText: 'or',\n      haveAccount: 'Already have an account?',\n      login: 'Log in',\n      usernameError: 'Username must be at least 3 characters long.',\n      passwordError: 'Password must be at least 6 characters long.',\n      confirmPasswordError: 'Passwords do not match.',\n      inviteCodeError: 'Invite code is required.',\n      termsError: 'You must agree to the terms and conditions.',\n      apiError: 'An unexpected error occurred.',\n      success: 'successfully completed!',\n      error: 'error',\n    },\n    cn: {\n      signup: '注册',\n      username: '用户名',\n      usernamePlaceholder: '请输入用户名',\n      password: '密码',\n      confirmPassword: '确认密码',\n      inviteCode: '邀请码（找要）',\n      terms: '我同意',\n      termsLink: '本网站的条款和协议',\n      signupButton: '注册',\n      cancelButton: '取消',\n      dividerText: '或',\n      haveAccount: '已经有账号？',\n      login: '登录',\n      usernameError: '用户名至少需要3个字符。',\n      passwordError: '密码至少需要6个字符。',\n      confirmPasswordError: '两次输入的密码不一致。',\n      inviteCodeError: '邀请码是必填项。',\n      termsError: '您必须同意条款和协议。',\n      apiError: '发生了意外错误。',\n      success: '成功完成！',\n      error: '错误',\n    },\n  };\n\n  const t = text[language] || text.en;\n\n  const [usernameError, setUsernameError] = useState(false);\n  const [usernameErrorMessage, setUsernameErrorMessage] = useState('');\n  const [passwordError, setPasswordError] = useState(false);\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState('');\n  const [confirmPasswordError, setConfirmPasswordError] = useState(false);\n  const [confirmPasswordErrorMessage, setConfirmPasswordErrorMessage] = useState('');\n  const [inviteCodeError, setInviteCodeError] = useState(false);\n  const [inviteCodeErrorMessage, setInviteCodeErrorMessage] = useState('');\n  const [termsAccepted, setTermsAccepted] = useState(false);\n  const [termsError, setTermsError] = useState(false);\n  const [apiError, setApiError] = useState('');\n\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [snackbarSeverity, setSnackbarSeverity] = useState('success');\n\n  // Base URL for the terms page - replace with the appropriate URL or environment variable\n  const baseUrl = process.env.REACT_APP_BASE_URL || ''; \n  const termsUrl = `${baseUrl}/md/${language === 'cn' ? 'cn' : 'en'}/terms`;\n\n  const validateInputs = () => {\n    const username = document.getElementById('username');\n    const password = document.getElementById('password');\n    const confirmPassword = document.getElementById('confirmPassword');\n    const inviteCode = document.getElementById('inviteCode');\n\n    let isValid = true;\n\n    if (!username.value || username.value.length < 3) {\n      setUsernameError(true);\n      setUsernameErrorMessage(t.usernameError);\n      isValid = false;\n    } else {\n      setUsernameError(false);\n      setUsernameErrorMessage('');\n    }\n\n    if (!password.value || password.value.length < 6) {\n      setPasswordError(true);\n      setPasswordErrorMessage(t.passwordError);\n      isValid = false;\n    } else {\n      setPasswordError(false);\n      setPasswordErrorMessage('');\n    }\n\n    if (confirmPassword.value !== password.value) {\n      setConfirmPasswordError(true);\n      setConfirmPasswordErrorMessage(t.confirmPasswordError);\n      isValid = false;\n    } else {\n      setConfirmPasswordError(false);\n      setConfirmPasswordErrorMessage('');\n    }\n\n    if (!inviteCode.value) {\n      setInviteCodeError(true);\n      setInviteCodeErrorMessage(t.inviteCodeError);\n      isValid = false;\n    } else {\n      setInviteCodeError(false);\n      setInviteCodeErrorMessage('');\n    }\n\n    if (!termsAccepted) {\n      setTermsError(true);\n      isValid = false;\n    } else {\n      setTermsError(false);\n    }\n\n    return isValid;\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (!validateInputs()) return;\n  \n    const data = new FormData(event.currentTarget);\n    const username = data.get('username');\n    const password = data.get('password');\n    const inviteCode = data.get('inviteCode');\n    \n    setApiError('');\n  \n    try {\n      const response = await UserService.register(username, password, inviteCode, userState.access);\n      \n      if (response.status === 201) {\n        // Show success message\n        setSnackbarMessage(t.signupButton + ' ' + t.success);\n        setSnackbarSeverity('success');\n        setSnackbarOpen(true);\n      \n        // Auto login after successful registration\n        try {\n          const loginResponse = await UserService.login(username, password, userState.access);\n          if (loginResponse.status === 200) {\n            setUser(loginResponse.data);\n            if (onClose) onClose();\n          }\n        } catch (loginError) {\n          console.error('Auto login error:', loginError);\n          // If auto-login fails, still redirect to login page\n          if (onLoginClick) {\n            setTimeout(() => {\n              onLoginClick();\n            }, 1500);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Registration error:', error);\n      \n      if (error.response && error.response.data) {\n        const errors = error.response.data;\n        \n        // Show specific field errors\n        if (errors.username) {\n          setUsernameError(true);\n          setUsernameErrorMessage(Array.isArray(errors.username) ? errors.username[0] : errors.username);\n        }\n        \n        if (errors.password) {\n          setPasswordError(true);\n          setPasswordErrorMessage(Array.isArray(errors.password) ? errors.password[0] : errors.password);\n        }\n        \n        if (errors.invite_code) {\n          setInviteCodeError(true);\n          setInviteCodeErrorMessage(Array.isArray(errors.invite_code) ? errors.invite_code[0] : errors.invite_code);\n        }\n        \n        // Handle non-field errors\n        if (errors.non_field_errors || errors.detail) {\n          const nonFieldError = errors.non_field_errors || errors.detail;\n          setApiError(Array.isArray(nonFieldError) ? nonFieldError[0] : nonFieldError);\n          \n          // Show error in snackbar\n          setSnackbarMessage(Array.isArray(nonFieldError) ? nonFieldError[0] : nonFieldError);\n          setSnackbarSeverity('error');\n          setSnackbarOpen(true);\n        }\n      } else {\n        // Generic error handling\n        setApiError(t.apiError);\n        setSnackbarMessage(t.apiError);\n        setSnackbarSeverity('error');\n        setSnackbarOpen(true);\n      }\n    }\n  };\n\n  const handleTermsLinkClick = (e) => {\n    // Prevent the checkbox from toggling when clicking on the link\n    e.stopPropagation();\n  };\n\n  return (\n    <Card component=\"form\" onSubmit={handleSubmit}>\n      <IconButton\n        onClick={onClose}\n        sx={{\n          position: 'absolute',\n          right: {\n            xs: 6,\n            md: 6,\n          },\n          top: {\n            xs: 6,\n            md: 6,\n          },\n        }}\n      >\n        <CloseRoundedIcon />\n      </IconButton>\n      <Typography\n        component=\"h1\"\n        variant=\"h4\"\n        align=\"center\"\n        sx={{\n          fontWeight: 'bold',\n          fontSize: { md: '1.8rem', xs: '1.8rem' },\n          color: 'primary.main',\n          letterSpacing: 0.8,\n        }}\n      >\n        {t.signup}\n      </Typography>\n\n      {apiError && (\n        <Typography color=\"error\" align=\"center\">\n          {apiError}\n        </Typography>\n      )}\n\n      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n        <FormControl>\n          <FormLabel htmlFor=\"username\">{t.username}</FormLabel>\n          <TextField\n            error={usernameError}\n            helperText={usernameErrorMessage}\n            autoComplete=\"username\"\n            name=\"username\"\n            required\n            fullWidth\n            id=\"username\"\n            placeholder={t.usernamePlaceholder}\n            variant=\"outlined\"\n            size={isMediumScreen ? 'medium' : 'small'}\n          />\n        </FormControl>\n        <FormControl>\n          <FormLabel htmlFor=\"password\">{t.password}</FormLabel>\n          <TextField\n            error={passwordError}\n            helperText={passwordErrorMessage}\n            required\n            fullWidth\n            name=\"password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"new-password\"\n            variant=\"outlined\"\n            size={isMediumScreen ? 'medium' : 'small'}\n          />\n        </FormControl>\n        <FormControl>\n          <FormLabel htmlFor=\"confirmPassword\">{t.confirmPassword}</FormLabel>\n          <TextField\n            error={confirmPasswordError}\n            helperText={confirmPasswordErrorMessage}\n            required\n            fullWidth\n            name=\"confirmPassword\"\n            type=\"password\"\n            id=\"confirmPassword\"\n            autoComplete=\"new-password\"\n            variant=\"outlined\"\n            size={isMediumScreen ? 'medium' : 'small'}\n          />\n        </FormControl>\n        <FormControl>\n          <FormLabel htmlFor=\"inviteCode\">{t.inviteCode}</FormLabel>\n          <TextField\n            error={inviteCodeError}\n            helperText={inviteCodeErrorMessage}\n            required\n            fullWidth\n            name=\"inviteCode\"\n            id=\"inviteCode\"\n            variant=\"outlined\"\n            size={isMediumScreen ? 'medium' : 'small'}\n          />\n        </FormControl>\n        <FormControl>\n          <FormControlLabel\n            control={\n              <Checkbox\n                required\n                color=\"primary\"\n                checked={termsAccepted}\n                onChange={(e) => setTermsAccepted(e.target.checked)}\n              />\n            }\n            label={\n              <Box component=\"span\" sx={{ display: 'inline-flex', alignItems: 'center', flexWrap: 'wrap' }}>\n                {t.terms}{' '}\n                <Link \n                  href={termsUrl}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  onClick={handleTermsLinkClick}\n                  sx={{ ml: 0.5, mr: 0.5 }}\n                >\n                  {t.termsLink}\n                </Link>\n                .\n              </Box>\n            }\n          />\n          {termsError && (\n            <Typography color=\"error\" variant=\"body2\" sx={{ mt: 0.5 }}>\n              {t.termsError}\n            </Typography>\n          )}\n        </FormControl>\n\n        <Button type=\"submit\" fullWidth variant=\"contained\">\n          {t.signupButton}\n        </Button>\n      </Box>\n      <Divider>\n        <Typography sx={{ color: 'text.secondary' }}>{t.dividerText}</Typography>\n      </Divider>\n      <Box>\n        <Typography align=\"center\" variant=\"body2\">\n          {t.haveAccount}{' '}\n          <a\n            href=\"#\"\n            onClick={(e) => {\n              e.preventDefault();\n              if (onLoginClick) onLoginClick();\n            }}\n          >\n            {t.login}\n          </a>\n        </Typography>\n      </Box>\n      <Snackbar\n        open={snackbarOpen}\n        autoHideDuration={2000}\n        onClose={() => setSnackbarOpen(false)}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      >\n        <MuiAlert onClose={() => setSnackbarOpen(false)} severity={snackbarSeverity} sx={{ width: '100%' }}>\n          {snackbarMessage}\n        </MuiAlert>\n      </Snackbar>\n    </Card>\n  );\n}","import { Modal, Box, Backdrop } from '@mui/material';\nimport LoginForm from './LoginForm';\nimport SignupForm from './SignupForm';\n\nexport const LoginModal = ({ open, handleClose, handleSignupOpen }) => {\n  const handleSignupClick = () => {\n    handleClose();\n    handleSignupOpen();\n  };\n\n  return (\n    <Modal\n      open={open}\n      onClose={handleClose}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n        style: { backgroundColor: 'rgba(0, 0, 0, 0.5)', backdropFilter: 'blur(5px)' },\n      }}\n    >\n      <Box\n        sx={{\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          width: '100%',\n          maxWidth: 450,\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <LoginForm\n          onClose={handleClose}\n          onSignupClick={handleSignupClick}\n        />\n      </Box>\n    </Modal>\n  );\n};\n\nexport const SignupModal = ({ open, handleClose, handleLoginOpen }) => {\n  const handleLoginClick = () => {\n    handleClose();\n    handleLoginOpen();\n  };\n\n  return (\n    <Modal\n      open={open}\n      onClose={handleClose}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n        style: { backgroundColor: 'rgba(0, 0, 0, 0.5)', backdropFilter: 'blur(5px)' },\n      }}\n    >\n      <Box\n        sx={{\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          width: { md: '100%', xs: \"80%\" },\n          maxWidth: 450,\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <SignupForm\n          onClose={handleClose}\n          onLoginClick={handleLoginClick}\n        />\n      </Box>\n    </Modal>\n  );\n};","import { useContext, useState } from 'react';\nimport { alpha, styled } from '@mui/material/styles';\nimport { AppBar, Box, Toolbar, Button, Container } from '@mui/material';\nimport { SettingsContext } from '../../../context/SettingsContext';\nimport { useUser } from '../../../context/UserContext';\nimport { translations } from './translations';\nimport DesktopNav from './DesktopNav';\nimport MobileDrawer from './MobileDrawer';\nimport UserMenu from './UserMenu';\nimport { LoginModal, SignupModal } from './AuthModals';\n\nconst StyledToolbar = styled(Toolbar)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n  flexShrink: 0,\n  borderRadius: `calc(${theme.shape.borderRadius}px + 8px)`,\n  backdropFilter: 'blur(24px)',\n  border: '1px solid',\n  borderColor: (theme.vars || theme).palette.divider,\n  backgroundColor: theme.vars\n    ? `rgba(${theme.vars.palette.background.defaultChannel} / 0.4)`\n    : alpha(theme.palette.background.default, 0.4),\n  boxShadow: (theme.vars || theme).shadows[1],\n  padding: '8px 12px',\n}));\n\nexport default function CustomAppBar() {\n  const { language, toggleLanguage, themeMode, toggleTheme } = useContext(SettingsContext);\n  const { userState } = useUser();\n\n  // 登录/注册模态框状态\n  const [loginOpen, setLoginOpen] = useState(false);\n  const [signupOpen, setSignupOpen] = useState(false);\n\n  const handleLoginOpen = () => setLoginOpen(true);\n  const handleLoginClose = () => setLoginOpen(false);\n  const handleSignupOpen = () => setSignupOpen(true);\n  const handleSignupClose = () => setSignupOpen(false);\n\n  return (\n    <AppBar\n      position=\"absolute\"\n      enableColorOnDark\n      sx={{\n        boxShadow: 0,\n        bgcolor: 'transparent',\n        backgroundImage: 'none',\n        mt: 'calc(var(--template-frame-height, 0px) + 28px)',\n      }}\n    >\n      <Container maxWidth=\"lg\">\n        <StyledToolbar variant=\"dense\" disableGutters>\n          {/* 桌面导航组件 */}\n          <DesktopNav \n            language={language} \n            toggleLanguage={toggleLanguage} \n            themeMode={themeMode}\n            toggleTheme={toggleTheme} \n          />\n\n          {/* 用户认证按钮/菜单 - 仅桌面版 */}\n          <Box sx={{ display: { xs: 'none', md: 'flex' }, gap: 1.5, alignItems: 'center' }}>\n            {userState.user_id === 0 ? (\n              <>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  onClick={handleLoginOpen}\n                  sx={{\n                    color: themeMode === 'dark' ? '#03a9f4' : '#1670C5',\n                    borderColor: themeMode === 'dark' ? '#03a9f4' : '#1670C5',\n                    '&:hover': {\n                      backgroundColor: themeMode === 'dark' ? 'rgba(3, 169, 244, 0.08)' : 'rgba(22, 112, 197, 0.08)',\n                      borderColor: themeMode === 'dark' ? '#03a9f4' : '#1670C5',\n                      color: themeMode === 'dark' ? '#03a9f4' : '#1670C5',\n                    },\n                  }}\n                >\n                  {translations[language].login}\n                </Button>\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  size=\"small\"\n                  onClick={handleSignupOpen}\n                >\n                  {translations[language].signup}\n                </Button>\n              </>\n            ) : (\n              <UserMenu language={language} themeMode={themeMode}/>\n            )}\n          </Box>\n\n          {/* 移动端抽屉菜单 */}\n          <MobileDrawer\n            language={language}\n            toggleLanguage={toggleLanguage}\n            toggleTheme={toggleTheme}\n            handleLoginOpen={handleLoginOpen}\n            handleSignupOpen={handleSignupOpen}\n          />\n        </StyledToolbar>\n      </Container>\n\n      {/* 登录/注册模态框 */}\n      <LoginModal \n        open={loginOpen} \n        handleClose={handleLoginClose} \n        handleSignupOpen={handleSignupOpen} \n      />\n      \n      <SignupModal \n        open={signupOpen} \n        handleClose={handleSignupClose} \n        handleLoginOpen={handleLoginOpen} \n      />\n    </AppBar>\n  );\n}"],"names":["translations","en","home","blogs","notes","projects","finance","profile","dashboard","login","logout","signup","password_reset","passwords_not_match","password_too_short","cn","LanguageSwitch","styled","Switch","_ref","theme","width","height","padding","transform","color","backgroundImage","encodeURIComponent","opacity","backgroundColor","content","position","left","top","backgroundRepeat","backgroundPosition","borderRadius","LanguageSwitchComponent","language","toggleLanguage","useContext","SettingsContext","isMobile","useMediaQuery","breakpoints","down","_jsx","FormControlLabel","control","checked","onChange","label","MaterialUISwitch","ThemeSwitch","themeMode","toggleTheme","buttonColor","_jsxs","_Fragment","children","Box","sx","flexGrow","display","alignItems","px","Avatar","src","stevenCartoon","alt","mr","overflow","xs","md","Button","component","Link","to","variant","size","minWidth","gap","onClick","open","onClose","userState","setUser","useUser","currentPassword","setCurrentPassword","useState","newPassword","setNewPassword","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","success","setSuccess","isSuperuser","is_superuser","handleClose","Dialog","undefined","maxWidth","fullWidth","DialogTitle","onSubmit","async","e","preventDefault","length","result","UserService","reset_password","user_id","access","userData","getNonuserJWT","setTimeout","message","password_reset_failed","err","password_reset_error","console","DialogContent","Alert","severity","mb","password_reset_success","TextField","margin","current_password","type","value","target","required","disabled","new_password","confirm_new_password","DialogActions","cancel","reset","CircularProgress","marginTop","marginLeft","handleLoginOpen","handleSignupOpen","setOpen","passwordResetOpen","setPasswordResetOpen","toggleDrawer","newOpen","IconButton","MenuIcon","Drawer","anchor","PaperProps","p","justifyContent","CloseRoundedIcon","MenuItem","Divider","my","handlePasswordResetOpen","textTransform","username","PasswordResetModal","anchorEl","setAnchorEl","currentTarget","Boolean","Menu","ml","MenuListProps","handlePasswordResetClick","fontSize","Card","MuiCard","flexDirection","alignSelf","boxShadow","LoginForm","_ref2","onSignupClick","text","usernamePlaceholder","password","passwordPlaceholder","rememberMe","loginButton","cancelButton","dividerText","noAccount","signUp","usernameError","passwordError","unexpectedError","t","setUsername","setPassword","setRememberMe","setUsernameError","usernameErrorMessage","setUsernameErrorMessage","setPasswordError","passwordErrorMessage","setPasswordErrorMessage","useEffect","savedUsername","localStorage","getItem","savedPassword","event","response","status","setItem","removeItem","_error$response","_error$response$data","data","detail","right","Typography","align","fontWeight","letterSpacing","FormControl","FormLabel","htmlFor","helperText","id","name","placeholder","autoComplete","Checkbox","href","SignupForm","onLoginClick","useTheme","isMediumScreen","up","inviteCode","terms","termsLink","signupButton","haveAccount","confirmPasswordError","inviteCodeError","termsError","apiError","setConfirmPasswordError","confirmPasswordErrorMessage","setConfirmPasswordErrorMessage","setInviteCodeError","inviteCodeErrorMessage","setInviteCodeErrorMessage","termsAccepted","setTermsAccepted","setTermsError","setApiError","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","snackbarSeverity","setSnackbarSeverity","termsUrl","process","REACT_APP_BASE_URL","validateInputs","document","getElementById","isValid","FormData","get","register","loginResponse","loginError","errors","Array","isArray","invite_code","non_field_errors","nonFieldError","flexWrap","rel","stopPropagation","mt","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","MuiAlert","LoginModal","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","style","backdropFilter","handleSignupClick","SignupModal","handleLoginClick","StyledToolbar","Toolbar","flexShrink","shape","border","borderColor","vars","palette","divider","background","defaultChannel","alpha","default","shadows","CustomAppBar","loginOpen","setLoginOpen","signupOpen","setSignupOpen","AppBar","enableColorOnDark","bgcolor","Container","disableGutters","DesktopNav","UserMenu","MobileDrawer","handleLoginClose","handleSignupClose"],"sourceRoot":""}