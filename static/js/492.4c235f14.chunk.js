"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[492],{4367:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(7353),r=n(9252),s=n(8446),l=n(5043),a=n(1045),i=n(4496),c=n(6295),d=n(579);function x(e){let{language:t}=e;return(0,d.jsxs)(i.A,{variant:"body1",sx:{color:"text.secondary",mt:1,typography:{md:"body1"}},children:["All Rights Reserved \xa9 ",(0,d.jsx)(s.A,{color:"text.secondary",href:"https://xiluo.net/",sx:{typography:{md:"body1"}},children:"xiluo.net"}),"\xa0",(new Date).getFullYear()]})}function h(){const{language:e,themeMode:t}=(0,l.useContext)(c.l),h="cn"===e?"/md/cn/terms":"/md/en/terms",u="cn"===e?"/md/cn/privacy":"/md/en/privacy";return(0,d.jsx)(l.Fragment,{children:(0,d.jsxs)(r.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:{md:"space-between"},alignItems:{xs:"flex-start",md:"center"},px:{xs:4},py:{xs:2,sm:5}},children:[(0,d.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",gap:{xs:2,sm:3},textAlign:"left",alignItems:"flex-start",mb:{xs:2,md:0},pb:2,width:"100%",borderBottom:e=>({xs:`1px solid ${e.palette.divider}`,sm:"none"})},children:[(0,d.jsx)(a.A,{src:n(5567),alt:"Steven Logo",sx:{width:30,height:30,overflow:"hidden"}}),(0,d.jsx)(o.A,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:2},children:[{path:"/",labelCn:"\u9996\u9875",labelEn:"Home"},{path:"/notes",labelCn:"\u7b14\u8bb0",labelEn:"Notes"},{path:"/blogs",labelCn:"\u535a\u5ba2",labelEn:"Blogs"},{path:"/projects",labelCn:"\u9879\u76ee",labelEn:"Projects"},{path:"/fin",labelCn:"\u91d1\u878d\u9762\u677f",labelEn:"Finance"},{path:"/profile",labelCn:"\u4e2a\u4eba\u7b80\u4ecb",labelEn:"Profile"}].map((t=>{let{path:n,labelCn:o,labelEn:r}=t;return(0,d.jsx)(s.A,{color:"text.secondary",variant:"body1",href:n,sx:{typography:{md:"body1"}},children:"cn"===e?o:r},n)}))})]}),(0,d.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"flex-start",md:"flex-end"},textAlign:{xs:"left",md:"right"},gap:1,mt:{md:2}},children:[(0,d.jsxs)(o.A,{sx:{display:"flex",flexDirection:"row",gap:2},children:[(0,d.jsx)(i.A,{variant:"body1",sx:{fontWeight:"medium"},children:"cn"===e?"\u6cd5\u5f8b":"Legal"}),[{label:"cn"===e?"\u6761\u6b3e":"Terms",path:h},{label:"cn"===e?"\u9690\u79c1":"Privacy",path:u}].map((e=>{let{label:t,path:n}=e;return(0,d.jsx)(s.A,{color:"text.secondary",variant:"body1",href:n,children:t},t)}))]}),(0,d.jsx)(x,{language:e})]})]})})}},9235:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var o=n(5043),r=n(9002),s=n(7353),l=n(4496),a=n(4494),i=n(8911),c=n(7392),d=n(35),x=n(6600),h=n(5316),u=n(8387),p=n(8610),m=n(1475),f=n(4535),g=n(8206),y=n(2532),b=n(2372);function A(e){return(0,b.Ay)("MuiDialogContentText",e)}(0,y.A)("MuiDialogContentText",["root"]);var j=n(579);const v=(0,f.Ay)(l.A,{shouldForwardProp:e=>(0,m.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),C=o.forwardRef((function(e,t){const n=(0,g.b)({props:e,name:"MuiDialogContentText"}),{children:o,className:r,...s}=n,l=(e=>{const{classes:t}=e,n=(0,p.A)({root:["root"]},A,t);return{...t,...n}})(s);return(0,j.jsx)(v,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:s,className:(0,u.A)(l.root,r),...n,classes:l})}));var w=n(9347),k=n(1906),S=n(9662);const D=(0,S.A)((0,j.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),M=(0,S.A)((0,j.jsx)("path",{d:"M14.12 10.47 12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8z"}),"DeleteForeverOutlined"),E=(0,S.A)((0,j.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),R=(0,S.A)((0,j.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");var L=n(4410),z=n(2141),F=n(6295),I=n(2678),T=n(330);const N=e=>{let{blogID:t,blogData:n}=e;const{themeMode:a,language:u}=(0,o.useContext)(F.l),{userState:p}=(0,I.J)(),[m,f]=(0,o.useState)(!1),[g,y]=(0,o.useState)(!1),[b,A]=(0,o.useState)(!1),v=(0,r.Zp)();if(!n)return null;const S="cn"===u?n.cn_title:n.en_title,N="cn"===u?n.cn_content:n.en_content,{author:W,publish_date:_,last_updated_date:P}=n;let B;try{let e=N.replace(/\\/g,"");const t=JSON.parse(e);if(!t)throw new Error("Empty content");const n=(0,L.convertFromRaw)(t);B=L.EditorState.createWithContent(n)}catch($){console.error("Error processing editor content:",$),B=L.EditorState.createEmpty()}const O=()=>{f(!1)};function V(e){const t=new Date(e);if("cn"===u)return t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});{const e={day:"2-digit",month:"short",year:"numeric"};return t.toLocaleDateString("en-GB",e)}}return(0,j.jsxs)(s.A,{sx:{maxWidth:"850px",width:"100%",p:"3%",overflow:"auto"},children:[(0,j.jsx)(l.A,{variant:"h4",sx:{mb:2,fontWeight:"bold",fontFamily:"Georgia, serif"},children:S}),(0,j.jsxs)(i.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:4},children:[(0,j.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"cn"===u?(0,j.jsxs)(j.Fragment,{children:["\u53d1\u5e03\u65e5\u671f: ",V(_)," | \u66f4\u65b0\u65e5\u671f: ",V(P)]}):(0,j.jsxs)(j.Fragment,{children:["Published: ",V(_)," | Last Updated: ",V(P)]})}),p.is_staff&&(0,j.jsxs)(i.A,{direction:"row",spacing:0,children:[(0,j.jsx)(c.A,{size:"small",color:"primary",onClick:async()=>{y(!0);try{await T.A.toggleVisibility(t,p.access),n.visible=!n.visible,y(!1)}catch($){console.error("Error toggling visibility",$),y(!1)}},disabled:g,children:n.visible?(0,j.jsx)(E,{}):(0,j.jsx)(R,{})}),(0,j.jsx)(c.A,{size:"small",color:"secondary",onClick:()=>{v(`/editblog/${t}`)},children:(0,j.jsx)(D,{})}),(0,j.jsx)(c.A,{size:"small",color:"error",onClick:()=>{f(!0)},children:(0,j.jsx)(M,{})})]})]}),(0,j.jsx)(z.A,{editorState:B,readOnly:!0}),(0,j.jsxs)(d.A,{open:m,onClose:O,children:[(0,j.jsx)(x.A,{children:"cn"===u?"\u786e\u8ba4\u5220\u9664":"Confirm Delete"}),(0,j.jsx)(h.A,{children:(0,j.jsx)(C,{children:"cn"===u?"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u7bc7\u535a\u5ba2\u5417\uff1f\u6b64\u64cd\u4f5c\u65e0\u6cd5\u64a4\u9500\u3002":"Are you sure you want to delete this blog? This action cannot be undone."})}),(0,j.jsxs)(w.A,{children:[(0,j.jsx)(k.A,{onClick:O,disabled:b,children:"cn"===u?"\u53d6\u6d88":"Cancel"}),(0,j.jsx)(k.A,{onClick:async()=>{A(!0);try{await T.A.deleteBlog(t,p.access),A(!1),f(!1),v("/blogs")}catch($){console.error("Error deleting blog",$),A(!1)}},color:"secondary",disabled:b,children:b?"cn"===u?"\u6b63\u5728\u5220\u9664...":"Deleting...":"cn"===u?"\u5220\u9664":"Delete"})]})]})]})};var W=n(4367),_=n(9817);const P={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},B=()=>{const{blogID:e}=(0,r.g)(),{language:t}=(0,o.useContext)(F.l),[n,i]=(0,o.useState)(null),[c,d]=(0,o.useState)(!0),[x,h]=(0,o.useState)(null);return(0,o.useEffect)((()=>{e&&(async()=>{try{d(!0),h(null);const t=await fetch(`/Blogs/blog/${e}.json`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json();i(n)}catch(n){console.error("Error fetching blog data:",n),h("cn"===t?"404 \n \u670d\u52a1\u5668\u8bbf\u95ee\u5931\u8d25 \n \u65e0\u6cd5\u52a0\u8f7d\u535a\u5ba2":"404 \n Internal Server Error \n Fail to load blog data")}finally{d(!1)}})()}),[e,t]),c?(0,j.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",height:"100vh"},children:(0,j.jsx)(l.A,{variant:"h6",align:"center",mt:16})}):x?(0,j.jsxs)(s.A,{sx:{display:"flex",justifyContent:"center",height:"100vh"},children:[(0,j.jsx)(a.A,{}),(0,j.jsx)(l.A,{color:"error",variant:"h6",align:"center",mt:16,style:{whiteSpace:"pre-line"},children:x})]}):(0,j.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,j.jsx)(s.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,j.jsx)(a.A,{})}),(0,j.jsx)(_.P.div,{initial:"hidden",animate:"visible",variants:P,children:(0,j.jsx)(s.A,{sx:{flex:1,display:"flex",justifyContent:"center",alignItems:"flex-start",mt:12,px:{xs:2,sm:4,md:6},overflow:"auto"},children:(0,j.jsx)(N,{blogID:e,blogData:n})})}),(0,j.jsx)(s.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"background.default",borderTop:e=>({xs:"none",md:`1px solid ${e.palette.divider}`}),maxWidth:e=>e.breakpoints.values.lg,width:"100%",mx:"auto"},children:(0,j.jsx)(W.A,{})})]})}},7805:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(9662),r=n(579);const s=(0,o.A)((0,r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},6494:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(5043),r=n(8387),s=n(8610),l=n(4535),a=n(8206),i=n(2532),c=n(2372);function d(e){return(0,c.Ay)("MuiCardContent",e)}(0,i.A)("MuiCardContent",["root"]);var x=n(579);const h=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),u=o.forwardRef((function(e,t){const n=(0,a.b)({props:e,name:"MuiCardContent"}),{className:o,component:l="div",...i}=n,c={...n,component:l},u=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},d,t)})(c);return(0,x.jsx)(h,{as:l,className:(0,r.A)(u.root,o),ownerState:c,ref:t,...i})}))},8911:(e,t,n)=>{n.d(t,{A:()=>C});var o=n(5043),r=n(8387),s=n(9172),l=n(2372),a=n(8610),i=n(1640),c=n(2900),d=n(8698),x=n(3216),h=n(2444),u=n(2214),p=n(579);const m=(0,x.A)(),f=(0,i.A)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function g(e){return(0,c.A)({props:e,name:"MuiStack",defaultTheme:m})}function y(e,t){const n=o.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,s)=>(e.push(r),s<n.length-1&&e.push(o.cloneElement(t,{key:`separator-${s}`})),e)),[])}const b=e=>{let{ownerState:t,theme:n}=e,o={display:"flex",flexDirection:"column",...(0,h.NI)({theme:n},(0,h.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e})))};if(t.spacing){const e=(0,u.LX)(n),r=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),l=(0,h.kW)({values:t.direction,base:r}),a=(0,h.kW)({values:t.spacing,base:r});"object"===typeof l&&Object.keys(l).forEach(((e,t,n)=>{if(!l[e]){const o=t>0?l[n[t-1]]:"column";l[e]=o}}));const i=(n,o)=>{return t.useFlexGap?{gap:(0,u._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${r=o?l[o]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]}`]:(0,u._W)(e,n)}};var r};o=(0,s.A)(o,(0,h.NI)({theme:n},a,i))}return o=(0,h.iZ)(n.breakpoints,o),o};var A=n(4535),j=n(8206);const v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=f,useThemeProps:n=g,componentName:s="MuiStack"}=e,i=t(b),c=o.forwardRef((function(e,t){const o=n(e),c=(0,d.A)(o),{component:x="div",direction:h="column",spacing:u=0,divider:m,children:f,className:g,useFlexGap:b=!1,...A}=c,j={direction:h,spacing:u,useFlexGap:b},v=(0,a.A)({root:["root"]},(e=>(0,l.Ay)(s,e)),{});return(0,p.jsx)(i,{as:x,ownerState:j,ref:t,className:(0,r.A)(v.root,g),...A,children:m?y(f,m):f})}));return c}({createStyledComponent:(0,A.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,j.b)({props:e,name:"MuiStack"})}),C=v}}]);
//# sourceMappingURL=492.4c235f14.chunk.js.map