"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[494],{4494:(e,r,s)=>{s.d(r,{A:()=>ie});var o=s(5043),t=s(4535),n=s(1546),a=s(5263),i=s(2314),l=s(9252),d=s(7353),c=s(1906),u=s(6295),p=s(2678);const m={en:{home:"Home",blogs:"Blogs",notes:"Notes",projects:"Projects",finance:"Finance",profile:"Profile",dashboard:"Dashboard",login:"Log in",logout:"Log out",signup:"Sign up",password_reset:"Reset Password",passwords_not_match:"Passwords do not match",password_too_short:"Password must be at least 6 characters"},cn:{home:"\u4e3b\u9875",blogs:"\u535a\u5ba2",notes:"\u7b14\u8bb0",projects:"\u9879\u76ee",finance:"\u91d1\u878d\u9762\u677f",profile:"\u4e2a\u4eba\u7b80\u4ecb",dashboard:"\u4eea\u8868\u76d8",login:"\u767b\u5f55",logout:"\u9000\u51fa\u767b\u5f55",signup:"\u6ce8\u518c",password_reset:"\u4fee\u6539\u5bc6\u7801",passwords_not_match:"\u5bc6\u7801\u4e0d\u5339\u914d",password_too_short:"\u5bc6\u7801\u81f3\u5c11\u9700\u89816\u4e2a\u5b57\u7b26"}};var h=s(1045),x=s(9002),g=s(4598),f=s(5442),A=s(4605),w=s(579);const j=(0,t.Ay)(g.A)((e=>{let{theme:r}=e;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><text x="3" y="15" font-size="14" fill="${encodeURIComponent("#fff")}">\u4e2d</text></svg>')`},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"#8796A5"}}},"& .MuiSwitch-thumb":{backgroundColor:"#001e3c",width:32,height:32,"&::before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><text x="3" y="15" font-size="14" fill="${encodeURIComponent("#fff")}">En</text></svg>')`}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"#aab4be",borderRadius:10}}}));function v(){const{language:e,toggleLanguage:r}=(0,o.useContext)(u.l),s=(0,f.A)((e=>e.breakpoints.down("md")));return(0,w.jsx)(A.A,{control:(0,w.jsx)(j,{checked:"cn"===e,onChange:r}),label:s?"en"===e?"English":"\u4e2d\u6587":""})}const b=(0,t.Ay)(g.A)((e=>{let{theme:r}=e;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>')`},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"#8796A5"}}},"& .MuiSwitch-thumb":{backgroundColor:"#001e3c",width:32,height:32,"&::before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>')`}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"#aab4be",borderRadius:10}}}));function C(){const{language:e,themeMode:r,toggleTheme:s}=(0,o.useContext)(u.l),t=(0,f.A)((e=>e.breakpoints.down("md")));return(0,w.jsx)(A.A,{control:(0,w.jsx)(b,{checked:"dark"===r,onChange:s}),label:t?"cn"===e?"light"===r?"\u6d45\u8272\u6a21\u5f0f":"\u6df1\u8272\u6a21\u5f0f":"light"===r?"Light Mode":"Dark Mode":""})}var S=s(5567);const y=e=>{let{language:r,toggleLanguage:s,toggleTheme:o}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(d.A,{sx:{flexGrow:1,display:"flex",alignItems:"center",px:0},children:[(0,w.jsx)(h.A,{src:S,alt:"Steven Logo",sx:{width:30,height:30,mr:1,overflow:"hidden"}}),(0,w.jsxs)(d.A,{sx:{display:{xs:"none",md:"flex"}},children:[(0,w.jsx)(c.A,{component:x.N_,to:"/",variant:"text",color:"info",size:"small",sx:{minWidth:0},children:m[r].home||"Home"}),(0,w.jsx)(c.A,{component:x.N_,to:"/notes",variant:"text",color:"info",size:"small",sx:{minWidth:0},children:m[r].notes||"Notes"}),(0,w.jsx)(c.A,{component:x.N_,to:"/blogs",variant:"text",color:"info",size:"small",sx:{minWidth:0},children:m[r].blogs||"Blogs"}),(0,w.jsx)(c.A,{component:x.N_,to:"/projects",variant:"text",color:"info",size:"small",sx:{minWidth:0},children:m[r].projects||"Projects"}),(0,w.jsx)(c.A,{component:x.N_,to:"/fin",variant:"text",color:"info",size:"small",sx:{minWidth:0},children:m[r].finance||"Finance"}),(0,w.jsx)(c.A,{component:x.N_,to:"/profile",variant:"text",color:"info",size:"small",sx:{minWidth:0},children:m[r].profile||"Profile"})]})]}),(0,w.jsxs)(d.A,{sx:{display:{xs:"none",md:"flex"},gap:0,alignItems:"center"},children:[(0,w.jsx)(v,{onClick:s}),(0,w.jsx)(C,{onClick:o})]})]})};var k=s(7392),_=s(4109),P=s(1449),E=s(9336),T=s(3287),W=s(573),z=s(8619),L=s(35),M=s(6600),B=s(5316),I=s(4194),R=s(5795),U=s(9347),N=s(1637);const F=e=>{let{open:r,onClose:s,language:t}=e;const{userState:n,setUser:a}=(0,p.J)(),[i,l]=(0,o.useState)(""),[u,h]=(0,o.useState)(""),[x,g]=(0,o.useState)(""),[f,A]=(0,o.useState)(!1),[j,v]=(0,o.useState)(""),[b,C]=(0,o.useState)(!1),S=n.is_superuser,y=()=>{l(""),h(""),g(""),v(""),C(!1),s()};return(0,w.jsxs)(L.A,{open:r,onClose:f?void 0:y,maxWidth:"sm",fullWidth:!0,children:[(0,w.jsx)(M.A,{children:m[t].password_reset||"Reset Password"}),(0,w.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v(""),C(!1),u===x)if(u.length<6)v(m[t].password_too_short||"Password must be at least 6 characters");else{A(!0);try{const e=await z.A.reset_password(n.user_id,u,S?null:i,n.access);if(e.success){C(!0),l(""),h(""),g("");const e=await z.A.getNonuserJWT();a(e),setTimeout((()=>{y()}),1e3)}else v(e.message||m[t].password_reset_failed||"Failed to reset password")}catch(r){v(m[t].password_reset_error||"An error occurred during password reset"),console.error("Password reset error:",r)}finally{A(!1)}}else v(m[t].passwords_not_match||"New passwords do not match")},children:[(0,w.jsxs)(B.A,{children:[j&&(0,w.jsx)(I.A,{severity:"error",sx:{mb:2},children:j}),b&&(0,w.jsx)(I.A,{severity:"success",sx:{mb:2},children:m[t].password_reset_success||"Password reset successfully!"}),!S&&(0,w.jsx)(R.A,{margin:"dense",label:m[t].current_password||"Current Password",type:"password",fullWidth:!0,variant:"outlined",value:i,onChange:e=>l(e.target.value),required:!0,disabled:f||b,sx:{mb:2}}),(0,w.jsx)(R.A,{margin:"dense",label:m[t].new_password||"New Password",type:"password",fullWidth:!0,variant:"outlined",value:u,onChange:e=>h(e.target.value),required:!0,disabled:f||b,sx:{mb:2}}),(0,w.jsx)(R.A,{margin:"dense",label:m[t].confirm_new_password||"Confirm New Password",type:"password",fullWidth:!0,variant:"outlined",value:x,onChange:e=>g(e.target.value),required:!0,disabled:f||b})]}),(0,w.jsxs)(U.A,{children:[(0,w.jsx)(c.A,{onClick:y,disabled:f,children:m[t].cancel||"Cancel"}),(0,w.jsxs)(d.A,{sx:{position:"relative"},children:[(0,w.jsx)(c.A,{type:"submit",color:"primary",variant:"contained",disabled:f||b,children:m[t].reset||"Reset"}),f&&(0,w.jsx)(N.A,{size:24,sx:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})]})]})]})},D=e=>{let{language:r,toggleLanguage:s,toggleTheme:t,handleLoginOpen:n,handleSignupOpen:a}=e;const[i,l]=(0,o.useState)(!1),[u,h]=(0,o.useState)(!1),{userState:g,setUser:f}=(0,p.J)(),A=e=>()=>{l(e)};return(0,w.jsxs)(d.A,{sx:{display:{xs:"flex",md:"none"},gap:1},children:[(0,w.jsx)(k.A,{"aria-label":"Menu button",onClick:A(!0),children:(0,w.jsx)(T.A,{})}),(0,w.jsx)(_.Ay,{anchor:"top",open:i,onClose:A(!1),PaperProps:{sx:{top:"var(--template-frame-height, 0px)"}},children:(0,w.jsxs)(d.A,{sx:{p:2,backgroundColor:"background.default"},children:[(0,w.jsx)(d.A,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,w.jsx)(k.A,{onClick:A(!1),children:(0,w.jsx)(W.A,{})})}),(0,w.jsx)(P.A,{component:x.N_,to:"/",children:m[r].home}),(0,w.jsx)(P.A,{component:x.N_,to:"/notes",children:m[r].notes}),(0,w.jsx)(P.A,{component:x.N_,to:"/blogs",children:m[r].blogs}),(0,w.jsx)(P.A,{component:x.N_,to:"/projects",children:m[r].projects}),(0,w.jsx)(P.A,{component:x.N_,to:"/fin",children:m[r].finance}),(0,w.jsx)(P.A,{component:x.N_,to:"/profile",children:m[r].profile}),(0,w.jsx)(E.A,{sx:{my:3}}),(0,w.jsx)(P.A,{children:(0,w.jsx)(v,{onClick:s})}),(0,w.jsx)(P.A,{children:(0,w.jsx)(C,{onClick:t})}),(0,w.jsx)(E.A,{sx:{my:3}}),0===g.user_id?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(P.A,{children:(0,w.jsx)(c.A,{color:"primary",variant:"outlined",fullWidth:!0,onClick:n,children:m[r].login})}),(0,w.jsx)(P.A,{children:(0,w.jsx)(c.A,{color:"primary",variant:"contained",fullWidth:!0,onClick:a,children:m[r].signup})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(P.A,{children:(0,w.jsx)(c.A,{color:"primary",variant:"outlined",fullWidth:!0,onClick:()=>{h(!0),l(!1)},children:m[r].password_reset})}),(0,w.jsx)(P.A,{children:(0,w.jsx)(c.A,{color:"primary",variant:"contained",fullWidth:!0,onClick:async()=>{const e=await z.A.getNonuserJWT();f(e),l(!1)},children:m[r].logout})}),(0,w.jsx)(E.A,{sx:{my:1}}),(0,w.jsx)(P.A,{children:(0,w.jsx)(c.A,{color:"info",fullWidth:!0,variant:"text",disabled:!0,sx:{textTransform:"none"},children:g.username})})]})]})}),(0,w.jsx)(F,{open:u,onClose:()=>h(!1),language:r})]})};var O=s(688);const q=e=>{let{language:r}=e;const{userState:s,setUser:t}=(0,p.J)(),[n,a]=(0,o.useState)(null),[i,l]=(0,o.useState)(!1);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.A,{variant:"text",color:"info",size:"small",onClick:e=>a(e.currentTarget),sx:{textTransform:"none"},children:s.username}),(0,w.jsxs)(O.A,{anchorEl:n,open:Boolean(n),onClose:()=>a(null),sx:{ml:0},children:[(0,w.jsx)(P.A,{onClick:()=>{a(null),l(!0)},sx:{fontSize:"0.85rem"},children:m[r].password_reset||"Reset Password"}),(0,w.jsx)(P.A,{onClick:async()=>{const e=await z.A.getNonuserJWT();t(e),a(null)},sx:{fontSize:"0.85rem"},children:m[r].logout||"Log out"})]}),(0,w.jsx)(F,{open:i,onClose:()=>l(!1),language:r})]})};var J=s(1149),$=s(2220),H=s(1962),X=s(1292),V=s(3193),K=s(4496),G=s(2110);const Y=(0,t.Ay)(G.A)((e=>{let{theme:r,themeMode:s}=e;return{display:"flex",flexDirection:"column",alignSelf:"center",padding:"32px",margin:"auto",borderRadius:"8px",gap:"16px",boxShadow:"dark"===s?"0px 4px 20px rgba(0, 0, 0, 0.5)":"0px 4px 20px rgba(0, 0, 0, 0.2)",[r.breakpoints.down("sm")]:{padding:"24px",gap:"8px"}}}));function Q(e){let{onClose:r,onSignupClick:s}=e;const{language:t,themeMode:n}=(0,o.useContext)(u.l),{userState:a,setUser:i}=(0,p.J)(),l={en:{login:"Log in",username:"Username",usernamePlaceholder:"username",password:"Password",passwordPlaceholder:"\u2022\u2022\u2022\u2022\u2022\u2022",rememberMe:"Remember me",loginButton:"Log In",cancelButton:"Cancel",dividerText:"or",noAccount:"Don't have an account?",signUp:"Sign up",usernameError:"Username is required",passwordError:"Password is required",unexpectedError:"An unexpected error occurred"},cn:{login:"\u767b\u5f55",username:"\u7528\u6237\u540d",usernamePlaceholder:"\u7528\u6237\u540d",password:"\u5bc6\u7801",passwordPlaceholder:"\u2022\u2022\u2022\u2022\u2022\u2022",rememberMe:"\u8bb0\u4f4f\u6211\u7684\u5bc6\u7801",loginButton:"\u767b\u5f55",cancelButton:"\u53d6\u6d88",dividerText:"\u6216",noAccount:"\u8fd8\u6ca1\u6709\u8d26\u53f7\uff1f",signUp:"\u6ce8\u518c",usernameError:"\u7528\u6237\u540d\u662f\u5fc5\u586b\u9879",passwordError:"\u5bc6\u7801\u662f\u5fc5\u586b\u9879",unexpectedError:"\u610f\u5916\u9519\u8bef"}},m=l[t]||l.en,[h,x]=(0,o.useState)(""),[g,f]=(0,o.useState)(""),[j,v]=(0,o.useState)(!1),[b,C]=(0,o.useState)(!1),[S,y]=(0,o.useState)(""),[_,P]=(0,o.useState)(!1),[T,L]=(0,o.useState)(""),[M,B]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=localStorage.getItem("rememberedUsername"),r=localStorage.getItem("rememberedPassword");e&&r&&(x(e),f(r),v(!0))}),[]);return(0,w.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",padding:2},children:(0,w.jsxs)(Y,{component:"form",onSubmit:async e=>{if(e.preventDefault(),C(!1),P(!1),y(""),L(""),B(!0),!h)return C(!0),y(m.usernameError),void B(!1);if(!g)return P(!0),L(m.passwordError),void B(!1);try{const e=await z.A.login(h,g,a.access);200===e.status&&(j?localStorage.setItem("rememberedUsername",h):localStorage.removeItem("rememberedUsername"),i(e),r&&r())}catch(t){var s,o;console.error("Login failed:",t),P(!0),L((null===(s=t.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.detail)||m.unexpectedError)}finally{B(!1)}},sx:{width:{xs:"90%",md:"100%"},maxWidth:"450px"},themeMode:n,children:[(0,w.jsx)(k.A,{onClick:r,sx:{position:"absolute",right:{xs:35,md:20},top:{xs:15,md:20}},children:(0,w.jsx)(W.A,{})}),(0,w.jsx)(K.A,{component:"h1",variant:"h4",align:"center",sx:{fontWeight:"bold",fontSize:{xs:"1.5rem",md:"1.8rem"},color:"primary.main",letterSpacing:.8},children:m.login}),(0,w.jsxs)(V.A,{children:[(0,w.jsx)(X.A,{htmlFor:"username",children:m.username}),(0,w.jsx)(R.A,{error:b,helperText:S,id:"username",type:"text",name:"username",placeholder:m.usernamePlaceholder,autoComplete:"username",fullWidth:!0,variant:"outlined",required:!0,value:h,onChange:e=>x(e.target.value)})]}),(0,w.jsxs)(V.A,{children:[(0,w.jsx)(X.A,{htmlFor:"password",children:m.password}),(0,w.jsx)(R.A,{error:_,helperText:T,id:"password",type:"password",name:"password",placeholder:m.passwordPlaceholder,autoComplete:"current-password",fullWidth:!0,variant:"outlined",required:!0,value:g,onChange:e=>f(e.target.value)})]}),(0,w.jsx)(A.A,{control:(0,w.jsx)(H.A,{value:"remember",color:"primary",checked:j,onChange:e=>v(e.target.checked)}),label:(0,w.jsxs)(d.A,{sx:{display:"flex",alignItems:"center"},children:[m.rememberMe,M&&(0,w.jsx)(N.A,{size:20,sx:{marginLeft:2}})]})}),(0,w.jsx)(c.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:m.loginButton}),(0,w.jsx)(E.A,{children:m.dividerText}),(0,w.jsxs)(K.A,{align:"center",variant:"body2",children:[m.noAccount," ",(0,w.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),s&&s()},children:m.signUp})]})]})})}var Z=s(794),ee=s(6240),re=s(8446);const se=(0,t.Ay)(G.A)((e=>{let{theme:r,themeMode:s}=e;return{display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:"30px",gap:"8px",margin:"auto",maxWidth:"450px",borderRadius:"8px",boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px",[r.breakpoints.down("sm")]:{padding:"24px",gap:"8px"}}}));function oe(e){let{onClose:r,onLoginClick:s}=e;const{userState:t,setUser:n}=(0,p.J)(),a=(0,ee.A)(),i=(0,f.A)(a.breakpoints.up("md")),{language:l,themeMode:m}=(0,o.useContext)(u.l),h={en:{signup:"Sign up",username:"Username",usernamePlaceholder:"Enter your username",password:"Password",confirmPassword:"Confirm Password",inviteCode:"Invite Code (If needed, email Steven)",terms:"I agree to the",termsLink:"terms and conditions",signupButton:"Sign Up",cancelButton:"Cancel",dividerText:"or",haveAccount:"Already have an account?",login:"Log in",usernameError:"Username must be at least 3 characters long.",passwordError:"Password must be at least 6 characters long.",confirmPasswordError:"Passwords do not match.",inviteCodeError:"Invite code is required.",termsError:"You must agree to the terms and conditions.",apiError:"An unexpected error occurred.",success:"successfully completed!",error:"error"},cn:{signup:"\u6ce8\u518c",username:"\u7528\u6237\u540d",usernamePlaceholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",password:"\u5bc6\u7801",confirmPassword:"\u786e\u8ba4\u5bc6\u7801",inviteCode:"\u9080\u8bf7\u7801\uff08\u627e\u8981\uff09",terms:"\u6211\u540c\u610f",termsLink:"\u672c\u7f51\u7ad9\u7684\u6761\u6b3e\u548c\u534f\u8bae",signupButton:"\u6ce8\u518c",cancelButton:"\u53d6\u6d88",dividerText:"\u6216",haveAccount:"\u5df2\u7ecf\u6709\u8d26\u53f7\uff1f",login:"\u767b\u5f55",usernameError:"\u7528\u6237\u540d\u81f3\u5c11\u9700\u89813\u4e2a\u5b57\u7b26\u3002",passwordError:"\u5bc6\u7801\u81f3\u5c11\u9700\u89816\u4e2a\u5b57\u7b26\u3002",confirmPasswordError:"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4\u3002",inviteCodeError:"\u9080\u8bf7\u7801\u662f\u5fc5\u586b\u9879\u3002",termsError:"\u60a8\u5fc5\u987b\u540c\u610f\u6761\u6b3e\u548c\u534f\u8bae\u3002",apiError:"\u53d1\u751f\u4e86\u610f\u5916\u9519\u8bef\u3002",success:"\u6210\u529f\u5b8c\u6210\uff01",error:"\u9519\u8bef"}},x=h[l]||h.en,[g,j]=(0,o.useState)(!1),[v,b]=(0,o.useState)(""),[C,S]=(0,o.useState)(!1),[y,_]=(0,o.useState)(""),[P,T]=(0,o.useState)(!1),[L,M]=(0,o.useState)(""),[B,U]=(0,o.useState)(!1),[N,F]=(0,o.useState)(""),[D,O]=(0,o.useState)(!1),[q,J]=(0,o.useState)(!1),[$,G]=(0,o.useState)(""),[Y,Q]=(0,o.useState)(!1),[oe,te]=(0,o.useState)(""),[ne,ae]=(0,o.useState)("success"),ie=`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL||""}/md/${"cn"===l?"cn":"en"}/terms`;return(0,w.jsxs)(se,{component:"form",onSubmit:async e=>{if(e.preventDefault(),!(()=>{const e=document.getElementById("username"),r=document.getElementById("password"),s=document.getElementById("confirmPassword"),o=document.getElementById("inviteCode");let t=!0;return!e.value||e.value.length<3?(j(!0),b(x.usernameError),t=!1):(j(!1),b("")),!r.value||r.value.length<6?(S(!0),_(x.passwordError),t=!1):(S(!1),_("")),s.value!==r.value?(T(!0),M(x.confirmPasswordError),t=!1):(T(!1),M("")),o.value?(U(!1),F("")):(U(!0),F(x.inviteCodeError),t=!1),D?J(!1):(J(!0),t=!1),t})())return;const o=new FormData(e.currentTarget),a=o.get("username"),i=o.get("password"),l=o.get("inviteCode");G("");try{if(201===(await z.A.register(a,i,l,t.access)).status){te(x.signupButton+" "+x.success),ae("success"),Q(!0);try{const e=await z.A.login(a,i,t.access);200===e.status&&(n(e.data),r&&r())}catch(d){console.error("Auto login error:",d),s&&setTimeout((()=>{s()}),1500)}}}catch(c){if(console.error("Registration error:",c),c.response&&c.response.data){const e=c.response.data;if(e.username&&(j(!0),b(Array.isArray(e.username)?e.username[0]:e.username)),e.password&&(S(!0),_(Array.isArray(e.password)?e.password[0]:e.password)),e.invite_code&&(U(!0),F(Array.isArray(e.invite_code)?e.invite_code[0]:e.invite_code)),e.non_field_errors||e.detail){const r=e.non_field_errors||e.detail;G(Array.isArray(r)?r[0]:r),te(Array.isArray(r)?r[0]:r),ae("error"),Q(!0)}}else G(x.apiError),te(x.apiError),ae("error"),Q(!0)}},children:[(0,w.jsx)(k.A,{onClick:r,sx:{position:"absolute",right:{xs:6,md:6},top:{xs:6,md:6}},children:(0,w.jsx)(W.A,{})}),(0,w.jsx)(K.A,{component:"h1",variant:"h4",align:"center",sx:{fontWeight:"bold",fontSize:{md:"1.8rem",xs:"1.8rem"},color:"primary.main",letterSpacing:.8},children:x.signup}),$&&(0,w.jsx)(K.A,{color:"error",align:"center",children:$}),(0,w.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,w.jsxs)(V.A,{children:[(0,w.jsx)(X.A,{htmlFor:"username",children:x.username}),(0,w.jsx)(R.A,{error:g,helperText:v,autoComplete:"username",name:"username",required:!0,fullWidth:!0,id:"username",placeholder:x.usernamePlaceholder,variant:"outlined",size:i?"medium":"small"})]}),(0,w.jsxs)(V.A,{children:[(0,w.jsx)(X.A,{htmlFor:"password",children:x.password}),(0,w.jsx)(R.A,{error:C,helperText:y,required:!0,fullWidth:!0,name:"password",type:"password",id:"password",autoComplete:"new-password",variant:"outlined",size:i?"medium":"small"})]}),(0,w.jsxs)(V.A,{children:[(0,w.jsx)(X.A,{htmlFor:"confirmPassword",children:x.confirmPassword}),(0,w.jsx)(R.A,{error:P,helperText:L,required:!0,fullWidth:!0,name:"confirmPassword",type:"password",id:"confirmPassword",autoComplete:"new-password",variant:"outlined",size:i?"medium":"small"})]}),(0,w.jsxs)(V.A,{children:[(0,w.jsx)(X.A,{htmlFor:"inviteCode",children:x.inviteCode}),(0,w.jsx)(R.A,{error:B,helperText:N,required:!0,fullWidth:!0,name:"inviteCode",id:"inviteCode",variant:"outlined",size:i?"medium":"small"})]}),(0,w.jsxs)(V.A,{children:[(0,w.jsx)(A.A,{control:(0,w.jsx)(H.A,{required:!0,color:"primary",checked:D,onChange:e=>O(e.target.checked)}),label:(0,w.jsxs)(d.A,{component:"span",sx:{display:"inline-flex",alignItems:"center",flexWrap:"wrap"},children:[x.terms," ",(0,w.jsx)(re.A,{href:ie,target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()},sx:{ml:.5,mr:.5},children:x.termsLink}),"."]})}),q&&(0,w.jsx)(K.A,{color:"error",variant:"body2",sx:{mt:.5},children:x.termsError})]}),(0,w.jsx)(c.A,{type:"submit",fullWidth:!0,variant:"contained",children:x.signupButton})]}),(0,w.jsx)(E.A,{children:(0,w.jsx)(K.A,{sx:{color:"text.secondary"},children:x.dividerText})}),(0,w.jsx)(d.A,{children:(0,w.jsxs)(K.A,{align:"center",variant:"body2",children:[x.haveAccount," ",(0,w.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),s&&s()},children:x.login})]})}),(0,w.jsx)(Z.A,{open:Y,autoHideDuration:2e3,onClose:()=>Q(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,w.jsx)(I.A,{onClose:()=>Q(!1),severity:ne,sx:{width:"100%"},children:oe})})]})}const te=e=>{let{open:r,handleClose:s,handleSignupOpen:o}=e;return(0,w.jsx)(J.A,{open:r,onClose:s,closeAfterTransition:!0,BackdropComponent:$.A,BackdropProps:{timeout:500,style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(5px)"}},children:(0,w.jsx)(d.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",maxWidth:450},onClick:e=>e.stopPropagation(),children:(0,w.jsx)(Q,{onClose:s,onSignupClick:()=>{s(),o()}})})})},ne=e=>{let{open:r,handleClose:s,handleLoginOpen:o}=e;return(0,w.jsx)(J.A,{open:r,onClose:s,closeAfterTransition:!0,BackdropComponent:$.A,BackdropProps:{timeout:500,style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(5px)"}},children:(0,w.jsx)(d.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{md:"100%",xs:"80%"},maxWidth:450},onClick:e=>e.stopPropagation(),children:(0,w.jsx)(oe,{onClose:s,onLoginClick:()=>{s(),o()}})})})},ae=(0,t.Ay)(a.A)((e=>{let{theme:r}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0,borderRadius:`calc(${r.shape.borderRadius}px + 8px)`,backdropFilter:"blur(24px)",border:"1px solid",borderColor:(r.vars||r).palette.divider,backgroundColor:r.vars?`rgba(${r.vars.palette.background.defaultChannel} / 0.4)`:(0,n.X4)(r.palette.background.default,.4),boxShadow:(r.vars||r).shadows[1],padding:"8px 12px"}}));function ie(){const{language:e,toggleLanguage:r,themeMode:s,toggleTheme:t}=(0,o.useContext)(u.l),{userState:n}=(0,p.J)(),[a,h]=(0,o.useState)(!1),[x,g]=(0,o.useState)(!1),f=()=>h(!0),A=()=>g(!0);return(0,w.jsxs)(i.A,{position:"absolute",enableColorOnDark:!0,sx:{boxShadow:0,bgcolor:"transparent",backgroundImage:"none",mt:"calc(var(--template-frame-height, 0px) + 28px)"},children:[(0,w.jsx)(l.A,{maxWidth:"lg",children:(0,w.jsxs)(ae,{variant:"dense",disableGutters:!0,children:[(0,w.jsx)(y,{language:e,toggleLanguage:r,toggleTheme:t}),(0,w.jsx)(d.A,{sx:{display:{xs:"none",md:"flex"},gap:1.5,alignItems:"center"},children:0===n.user_id?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.A,{color:"primary",variant:"outlined",size:"small",onClick:f,children:m[e].login}),(0,w.jsx)(c.A,{color:"primary",variant:"contained",size:"small",onClick:A,children:m[e].signup})]}):(0,w.jsx)(q,{language:e})}),(0,w.jsx)(D,{language:e,toggleLanguage:r,toggleTheme:t,handleLoginOpen:f,handleSignupOpen:A})]})}),(0,w.jsx)(te,{open:a,handleClose:()=>h(!1),handleSignupOpen:A}),(0,w.jsx)(ne,{open:x,handleClose:()=>g(!1),handleLoginOpen:f})]})}},5567:(e,r,s)=>{e.exports=s.p+"static/media/steven_cartoon.5ffb326cfa41b9981bf8.jpeg"}}]);
//# sourceMappingURL=494.7f6d4a48.chunk.js.map